<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Junta Calificadora de Méritos y Disciplina - Nivel Secundario</title>
    <link rel="stylesheet" href="style.css"> <!-- Tu archivo style.css -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"> <!-- Fuente Google Fonts -->

    <style>
        /* Estilos generales mejorados */
        body {
            font-family: 'Roboto', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #eef2f7; /* Un color de fondo más suave */
            color: #333;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 138px auto 0 auto; /* Esto empuja el contenido 120px hacia abajo, ajusta si es necesario */
            background: #fff;
            padding: 10px 30px 30px; /* MODIFICADO: Reducimos el padding-top del contenedor */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
        }
        h1, h2, h3 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 25px;
        }
        h1 {
            font-size: 2.8em;
            font-weight: 700;
            margin-top: 0; /* MODIFICADO: Eliminamos el margen superior del h1 */
            color: #004085;
            line-height: 1.2;
        }
        h2 {
            font-size: 2.2em; /* Títulos de sección más grandes */
            font-weight: 500;
            border-bottom: 2px solid #d0dae6; /* Línea de separación sutil */
            padding-bottom: 10px;
            margin-top: 5px;
            color: #004085; /* Consistencia con h1 */
        }
        h3 {
            font-size: 1.6em; /* Subtítulos un poco más grandes */
            font-weight: 400;
            color: #004085; /* Color más oscuro para h3 */
            text-align: left; /* Alineado a la izquierda para los grupos de búsqueda */
            border-bottom: 1px solid #d0dae6; /* Línea debajo de h3 */
            padding-bottom: 8px;
            margin-bottom: 20px;
        }
        h3 small { /* Estilo para el texto pequeño en los títulos */
            display: block;
            font-size: 0.7em;
            color: #666;
            margin-top: 5px;
            font-weight: 300;
        }
        h4 { /* Estilo para los h4 (sub-subtítulos) */
            font-size: 1.3em;
            font-weight: 500;
            color: #007bff; /* Azul vibrante para h4 */
            margin-bottom: 15px;
            margin-top: 25px; /* Espacio superior para separar */
        }
        /* Estilos para el bloque de tutorial */
        .quick-tutorial {
            background-color: #e6f7ff; /* Azul muy claro */
            border-left: 5px solid #007bff; /* Borde azul vibrante */
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            font-size: 1.05em;
            line-height: 1.6;
        }

        .quick-tutorial h4 {
            color: #004085;
            font-size: 1.5em;
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 1px solid #c2d1e2;
            padding-bottom: 10px;
        }

        .quick-tutorial ul {
            list-style: none; /* Eliminar el estilo de lista predeterminado */
            padding-left: 0;
        }

        .quick-tutorial ul li {
            margin-bottom: 10px;
            padding-left: 25px; /* Espacio para el ícono */
            position: relative;
            color: #444;
        }

        .quick-tutorial ul li strong {
            color: #0056b3; /* Color más oscuro para el texto en negrita */
        }

        /* Icono de checkmark para la lista del tutorial */
        .quick-tutorial ul li::before {
            content: "\f058"; /* Unicode para el icono de checkmark de FontAwesome */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 0;
            color: #28a745; /* Verde para el checkmark */
        }

        /* Header (Encabezado) */
        header {
            background: linear-gradient(to right, #004085, #0056b3); /* Degradado sutil */
            color: white;
            padding: 15px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            position: sticky; /* O 'fixed' si no quieres que se mueva con el scroll */
            top: 0;
            width: 100%;
            z-index: 1000; /* Asegura que esté por encima de otros elementos */
        }
        header .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            position: relative; /* Añadido para posicionar el menú móvil */
        }
        header .logo img {
            max-height: 80px; /* Ajusta el tamaño del logo */
            width: auto;
        }
        /* INICIO MODIFICACIÓN MOBILE - ESTILOS HAMBURGUESA Y MENÚ */
        header nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex; /* Para poner los elementos del menú en línea */
            justify-content: center; /* NUEVO: Centra los elementos del menú horizontalmente */
            gap: 35px; /* Añade espacio entre los elementos del menú de forma consistente */
            /* ELIMINADO en desktop: margin-left: 25px; de header nav ul li */
        }
        header nav ul li {
            /* margin-left: 25px; */ /* ELIMINADO: Ahora el espacio se maneja con 'gap' en el ul padre */
        }
        /* Estilos del menú hamburguesa */
        .menu-toggle {
            display: none; /* Oculto por defecto en desktop */
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 20px;
            cursor: pointer;
            z-index: 1001; /* Por encima del menú si es un overlay */
            position: absolute; /* Posiciona el botón dentro del header-content */
            right: 20px; /* Distancia desde la derecha */
            top: 50%;
            transform: translateY(-50%);
        }

        .menu-toggle .bar {
            width: 100%;
            height: 3px;
            background-color: white;
            border-radius: 5px;
            transition: all 0.3s ease;
             /* NUEVO: Sombra sutil para asegurar visibilidad en modo oscuro */
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.7); /* Una pequeña sombra negra semitransparente */
        }

        /* Animación de la hamburguesa (opcional) */
        .menu-toggle.active .bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }

        .menu-toggle.active .bar:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active .bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }
                /* Estilos para el Comunicado Urgente */
        .urgent-communique {
            background-color: #fff3cd; /* Amarillo claro, color de advertencia */
            border: 1px solid #ffeeba;
            border-left: 5px solid #ffc107; /* Borde izquierdo más grueso y amarillo */
            border-radius: 8px;
            padding: 20px;
            margin: 30px auto; /* Centrar y dar margen alrededor */
            max-width: 800px; /* Ancho máximo para que no se extienda demasiado */
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.6;
        }

        .urgent-communique h3 {
            color: #856404; /* Color oscuro para el título, en línea con el amarillo */
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.8em;
            font-weight: 700;
            border-bottom: 1px solid #ffda6a; /* Línea de separación bajo el título */
            padding-bottom: 10px;
            text-align: center; /* Asegurar que el título del comunicado esté centrado */
        }

        .urgent-communique p {
            color: #66520e; /* Color de texto que combine */
            margin-bottom: 10px;
            text-align: justify; /* Justificar el texto para mejor lectura */
        }

        .urgent-communique strong {
            color: #856404; /* Negrita con el color del título */
        }

        /* Ajustes para móviles si es necesario (dentro de @media max-width: 768px) */
        @media (max-width: 768px) {
            .urgent-communique {
                margin: 20px auto;
                padding: 15px;
                font-size: 1em;
            }
            .urgent-communique h3 {
                font-size: 1.5em;
                margin-bottom: 10px;
                padding-bottom: 8px;
            }
        }

        /* Responsive Design para móvil (< 768px) */
        @media (max-width: 768px) {
                        /* Ajustes específicos para el nuevo encabezado de inicio en móviles */
            #inicio h1 {
                font-size: 1.8em; /* Tamaño de fuente más compacto para el título principal en móviles */
                margin-bottom: 2px; /* Espacio reducido entre h1 y h2 */
            }
            #inicio h2 {
                font-size: 1.2em; /* Tamaño de fuente para el subtítulo en móviles */
                margin-top: 2px; /* Espacio reducido entre h1 y h2 */
            }
            header .header-content {
                flex-direction: row; /* Mantener logo y hamburguesa en fila */
                justify-content: space-between; /* Espaciar logo y hamburguesa */
                align-items: center;
                padding: 0 15px; /* Pequeño padding lateral */
            }
             header .logo img { /* NUEVO: Reducir el logo en móviles */
                max-height: 35px; /* Tamaño del logo en móviles */
                width: auto;
                flex-shrink: 0; /* Evitar que el logo se encoja */
                margin-right: 10px; /* Aumentamos ligeramente el margen si 60px no es suficiente */
               
            }
                .menu-toggle {
                display: flex; /* Mostrar el botón hamburguesa en móviles */
                flex-direction: column; /* Asegura que las barras se apilen verticalmente */
                justify-content: space-around; /* Distribuye espacio entre las barras */
                width: 30px; /* Ancho del icono */
                height: 25px; /* Alto del icono para 3 barras */
                cursor: pointer;
                z-index: 1001;      /* Asegurarse de que esté por encima de todo */
            }
            

            header nav {
                position: fixed; /* Menú overlay */
                top: 0;
                left: -100%; /* Oculto por defecto a la izquierda */
                width: 100%;
                height: 100%;
                background-color: #004085; /* Fondo del menú móvil */
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transition: left 0.3s ease-in-out;
                z-index: 999; /* Por debajo del botón de hamburguesa */
            }

            header nav.active {
                left: 0; /* Mostrar el menú */
            }

            header nav ul {
                flex-direction: column;
                text-align: center;
                margin: 0;
                padding: 0;
                gap: 35px; /* Espacio entre los ítems del menú móvil */
            }

            header nav ul li {
                margin: 0; /* Eliminar márgenes heredados */
            }

            header nav ul li a {
                font-size: 1.5em; /* Tamaño de fuente más grande para el menú móvil */
                padding: 10px 0;
                display: block; /* Para que ocupen todo el ancho y sean más fáciles de tocar */
            }

            .container {
                width: 95%;
                padding: 15px;
                /* Ajuste el margen superior en móvil para dar espacio al encabezado */
                margin-top: 100px; /* Un poco menos que en desktop si es necesario, o déjalo igual */
            }
            /* ... el resto de tus reglas @media (max-width: 768px) */
            /* Asegúrate de que `margin-top` en `.container` es suficiente para el header fijo */

            /* Estilos para que las tablas puedan hacer scroll horizontalmente en móviles */
            .results-table-container { /* NUEVO CONTENEDOR PARA TABLAS */
                overflow-x: auto; /* Permite el desplazamiento horizontal */
                -webkit-overflow-scrolling: touch; /* Suaviza el scroll en iOS */
            }
            .results-table {
                width: 100%; /* Asegura que la tabla ocupe el 100% de su contenedor */
               /* min-width: 600px; */ /* ELIMINADO: Esta regla causaba el scroll horizontal excesivo en móviles */
                /* NUEVO: No forzamos un min-width aquí, permitiendo que se ajuste */
                /* Si un contenido es demasiado largo, el overflow-x: auto del contenedor lo manejará */
            }
            /* FIN MODIFICACIÓN MOBILE */
        }
        header nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1em;
            transition: color 0.3s ease-in-out;
        }
        header nav ul li a:hover {
            color: #a7d9ff; /* Un azul más claro al pasar el ratón */
        }

        /* Secciones de Contenido */
        .content-section {
            display: none; /* NUEVO: Oculta todas las secciones por defecto */
            padding: 20px 0; /* Se mantiene para secciones generales */
            margin-bottom: 30px;
            border-bottom: 1px dashed #e0e7ed;
        }
        /* Opcional: Estilo para el enlace activo en el menú (para indicar dónde está el usuario) */
        .active-nav-link {
            color: #a7d9ff !important; /* Un color más claro para el enlace activo */
            font-weight: 700; /* Negrita para el enlace activo */
        }
        /* NUEVO: Ajustes específicos para la primera sección (#inicio) */
        #inicio {
            padding-top: 0; /* MODIFICADO: Eliminamos el padding superior de la primera sección para subir el h1 */
            margin-top: 0; /* Aseguramos que no haya margen extra aquí */
        }
        .content-section:last-of-type {
            border-bottom: none; /* Eliminar la línea en la última sección */
        }
        .content-section p {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 15px;
            text-align: justify;
        }
        .content-section ul {
            list-style: disc inside;
            margin-left: 20px;
            margin-bottom: 15px;
        }
        .content-section ul li {
            margin-bottom: 8px;
        }
        .content-section a {
            color: #007bff;
            text-decoration: none;
            font-weight: 400;
        }
        .content-section a:hover {
            text-decoration: underline;
        }

        /* Buscadores - Estilos existentes mejorados */
        .search-group { /* Nuevo estilo para agrupar buscadores */
            margin-bottom: 40px; /* Más espacio entre grupos de buscadores */
            padding: 25px;
            border: 1px solid #dbe2ea;
            border-radius: 12px; /* Más redondeado */
            background-color: #fcfdff; /* Fondo ligeramente diferente para el grupo */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Sombra más pronunciada */
        }
        .search-group h3 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #004085;
            font-size: 1.8em;
            text-align: left; /* Título del grupo alineado a la izquierda */
            border-bottom: 1px solid #e0e7ed;
            padding-bottom: 10px;
        }
        .search-group p {
            font-size: 1em;
            color: #666;
            margin-bottom: 20px;
        }
        .search-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #dbe2ea; /* Borde más suave */
            border-radius: 10px; /* Más redondeado */
            background-color: #f7f9fc; /* Fondo más claro */
            box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.07); /* Sombra interna sutil */
        }
        .search-section:last-of-type {
            margin-bottom: 0; /* Eliminar margen inferior del último search-section dentro de un grupo */
        }
        .search-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #555;
        }
        .search-section input[type="text"],
        .search-section select { /* Añadido estilo para el select */
            width: calc(100% - 22px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #c2d1e2;
            border-radius: 8px; /* Más redondeado */
            font-size: 1em;
            box-sizing: border-box; /* Asegura que padding no aumente el ancho total */
        }
        .search-section button {
            background-color: #007bff; /* Azul vibrante */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px; /* Más redondeado */
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2); /* Sombra para el botón */
        }
        .search-section button:hover {
            background-color: #0056b3; /* Azul más oscuro al pasar el ratón */
            transform: translateY(-2px); /* Pequeño efecto de "levantar" */
            box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3); /* Sombra más grande al pasar el ratón */
        }
        .results-container {
            margin-top: 30px;
            border-top: 1px solid #e0e7ed;
            padding-top: 25px;
        }
        .results-container h3 {
            color: #007bff;
            text-align: center;
            margin-bottom: 20px;
        }
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden; /* Para que los bordes redondeados se apliquen a la tabla */
        }
        .results-table th, 
        .results-table td {
            border: 1px solid #dee2e6; /* Borde de tabla más definido */
            padding: 8px 5px; /* REDUCIDO: Padding más compacto para las celdas en móvil */
            font-size: 0.85em; /* REDUCIDO: Fuente ligeramente más pequeña */
            text-align: left;
            white-space: normal; /* PERMITIR SALTO DE LÍNEA: Permite que el contenido se envuelva */
        }
            
        .results-table th {
            background-color: #007bff;
            color: white;
            font-weight: 600;
            text-transform: uppercase; /* Encabezados en mayúsculas */
            font-size: 0.9em;
            white-space: normal; /* PERMITIR SALTO DE LÍNEA: Permite que los encabezados se envuelvan si son largos */
        }
        .results-table tr:nth-child(even) {
            background-color: #f2f7fb; /* Color de fila par más claro */
        }
        .results-table tr:hover {
            background-color: #e9f2fa; /* Efecto hover en filas */
        }
        .no-results {
            text-align: center;
            color: #777;
            padding: 20px;
            font-style: italic;
        }

        /* Estilos para el iframe de noticias */
        .news-iframe-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 75%; /* Proporción 4:3 (altura / ancho * 100%) - Ajusta esto si el sitio se ve cortado */
            height: 0; /* Necesario para mantener la proporción con padding-top */
            background-color: #f0f0f0; /* Color de fondo mientras carga */
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .news-iframe-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none; /* Eliminar el borde del iframe */
        }

        /* Estilos para el mapa incrustado */
        .map-container {
            position: relative;
            overflow: hidden;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            background-color: #f0f0f0;
        }
        .map-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }


        /* Footer (Pie de página) */
        footer {
            text-align: center;
            padding: 25px;
            background-color: #343a40; /* Gris oscuro */
            color: white;
            margin-top: 40px;
            border-top: 5px solid #0056b3; /* Borde superior con color primario */
            font-size: 0.9em;
        }

        /* Botones de Acceso Rápido en Inicio */
        .quick-access-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px; /* Espacio entre los botones */
            margin-top: 30px;
            margin-bottom: 40px;
        }
        .quick-access-buttons .button {
            background-color: #007bff; /* Azul vibrante */
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px; /* Más redondeado */
            cursor: pointer;
            font-size: 1.2em;
            font-weight: 600;
            text-decoration: none; /* Para que parezca un botón */
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3); /* Sombra para el botón */
            display: inline-flex; /* Para centrar contenido si hay iconos */
            align-items: center;
            justify-content: center;
            min-width: 200px; /* Ancho mínimo para que se vean bien */
        }
        .quick-access-buttons .button:hover {
            background-color: #0056b3; /* Azul más oscuro al pasar el ratón */
            transform: translateY(-3px); /* Efecto de "levantar" más pronunciado */
            box-shadow: 0 8px 16px rgba(0, 123, 255, 0.4); /* Sombra más grande al pasar el ratón */
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            header .header-content {
                flex-direction: column;
                text-align: center;
            }
            header nav ul {
                flex-direction: column;
                margin-top: 15px;
            }
            header nav ul li {
                margin: 5px 0;
            }
            .container {
                width: 95%;
                padding: 15px;
            }
            h1 {
                font-size: 2em;
            }
            h2 {
                font-size: 1.7em;
            }
            h3 {
                font-size: 1.3em;
            }
            .search-section input[type="text"],
            .search-section select { /* Full width on smaller screens */
                width: 100%;
            }
            .news-iframe-container, .map-container {
                padding-top: 120%; /* Aumenta la altura del iframe en móviles si es necesario */
            }
            .quick-access-buttons {
                flex-direction: column; /* Apila los botones en móviles */
                align-items: center;
            }
            .quick-access-buttons .button {
                width: 80%; /* Ancho de los botones en móviles */
                min-width: unset;
            }
            /* Ajuste para el h4 dentro de search-section en móvil */
            .search-section h4 {
                margin-top: 20px; /* Espacio extra para el h4 en móvil */
            }
        }

        /* Estilo para resaltar filas completas que contienen la búsqueda */
        .results-table tr.highlighted-row {
            background-color: #e6ffe6; /* Un color verde muy suave para la fila completa */
            border-left: 5px solid #28a745; /* Un borde verde sólido a la izquierda */
        }

        /* Estilos para la columna CODIGO/Modulo */
        .results-table th:nth-child(3), /* Selecciona el 3er encabezado (CODIGO/Modulo) */
        .results-table td:nth-child(3) {  /* Selecciona la 3ra celda de cada fila (CODIGO/Modulo) */
            text-align: center; /* Centrar el contenido */
            font-size: 1em;   /* Agrandar la fuente (1.2 veces el tamaño base de la tabla) */
            font-weight: bold;  /* Poner en negrita el número */
            width: auto; /* Permite que el ancho se ajuste automáticamente */
            white-space: nowrap; /* Asegurar que el código no se rompa */
        }

        /* NUEVO ESTILO: Para hacer los títulos cliqueables */
        .results-table td .clickable-title {
            cursor: pointer;
            text-decoration: none; /* Empezar sin subrayado */
            color: #004085; /* Un color de texto que invite al clic */
            font-weight: 500;
            transition: text-decoration 0.2s ease, color 0.2s ease;
        }

        .results-table td .clickable-title:hover {
            text-decoration: underline; /* Subrayado al pasar el ratón */
            color: #007bff; /* Cambio de color al pasar el ratón */
        }
        /* Estilos para impresión */
        @media print {
            body {
                background-color: #fff; /* Fondo blanco para impresión */
                -webkit-print-color-adjust: exact; /* Para imprimir colores de fondo */
            }
            .container, header, footer, .menu-toggle, .quick-access-buttons,
            .search-section label, .search-section input, .search-section select,
            .search-section button, h1, h2, h3 small, p, ul:not(.results-table),
            .news-iframe-container, .map-container, .search-group:not(.print-visible) {
                display: none !important; /* Oculta todo lo que no sea la tabla */
            }

            .results-table-container {
                display: block !important; /* Asegura que el contenedor de la tabla sea visible */
                overflow-x: visible !important; /* Desactiva el scroll horizontal para impresión */
            }

            .results-table {
                width: 100% !important; /* Asegura que la tabla ocupe todo el ancho de la página */
                border-collapse: collapse !important;
                margin-top: 0 !important;
                box-shadow: none !important; /* Elimina sombras */
                border-radius: 0 !important; /* Elimina bordes redondeados */
            }
            .results-table th, .results-table td {
                border: 1px solid #000 !important; /* Bordes negros para impresión */
                padding: 8px !important;
                color: #000 !important; /* Texto negro */
                background-color: #f0f0f0 !important; /* Color de fondo ligero para encabezados */
            }
            .results-table th {
                background-color: #ddd !important; /* Fondo gris claro para encabezados */
            }
            .results-table tr:nth-child(even) {
                background-color: #f7f7f7 !important; /* Fondo para filas pares */
            }
            .results-table tr:hover {
                background-color: #f7f7f7 !important; /* Desactiva el hover en impresión */
            }
            .results-table td .clickable-title {
                text-decoration: none !important; /* Sin subrayado en impresión */
                color: #000 !important; /* Texto negro */
                font-weight: normal !important;
                cursor: default !important;
            }
            .results-table tr.highlighted-row {
                background-color: #e0ffe0 !important; /* Resaltado más tenue para impresión */
                border-left: 5px solid #66bb6a !important;
            }
            /* Asegúrate de que los strong para el resaltado de búsqueda también sean visibles */
            .results-table strong {
                font-weight: bold !important;
                color: #000 !important;
            }
        }
                /* NUEVOS ESTILOS PARA LA TABLA DE RESULTADOS DE CATEGORÍA Y ORIENTACIÓN POR COLEGIO */
        /* Esto asegura que el contenedor de la tabla tenga scroll horizontal en móviles */
        .results-table-container { 
            overflow-x: auto; 
            -webkit-overflow-scrolling: touch; 
        } 
        /* Asegura que la tabla dentro del contenedor ocupe el 100% y tenga un ancho mínimo para el scroll */
        .results-table { 
            width: 100%; 
            min-width: 600px; /* Ajusta este valor si tus tablas son más anchas */
        } 

        /* Asegúrate de que el botón de imprimir tenga margen superior */
        .button.mt-4 {
            margin-top: 1rem !important; /* Tailwind mt-4 equivalent */
        }
                /* OPTIMIZACIÓN ESPECÍFICA PARA DISPOSITIVOS MÓVILES EN MODO HORIZONTAL (LANDSCAPE) */
        @media (max-width: 768px) and (orientation: landscape) {
            header {
                padding: 10px 0; /* REDUCIDO: Menos padding vertical para el encabezado en modo horizontal */
            }

            header .logo img {
                max-height: 30px; /* REDUCIDO: Logo más pequeño en modo horizontal */
            }

            header .header-content {
                padding: 0 10px; /* REDUCIDO: Menos padding lateral en modo horizontal */
            }

            header nav ul li a {
                font-size: 1.2em; /* REDUCIDO: Tamaño de fuente más pequeño para los enlaces de navegación */
                padding: 5px 0; /* Menos padding para los ítems del menú móvil horizontal */
            }

            .container {
                /* Ajustar el margen superior del contenedor principal para compensar el header más pequeño */
                margin-top: 80px; /* Ajusta según sea necesario para que el contenido no quede debajo del header */
            }
        }

    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8M7TMMZ47B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-8M7TMMZ47B');
    </script>

</head>
<body>
    <header>
        <div class="header-content">
           <div class="logo">
                <!-- Asegúrate de que tu imagen 'jcmyd-logo.png' esté en la misma carpeta que index.html o ajusta la ruta -->
                <img src="jcmyd-logo.png" alt="Logo Junta Calificadora de Méritos y Disciplina">
            </div>
            <!-- INICIO MODIFICACIÓN MOBILE - BOTÓN HAMBURGUESA Y ESTRUCTURA DE NAV -->
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <nav id="main-nav"> <!-- Añadimos un ID para referenciarlo en JS -->
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#sobre-nosotros">Sobre Nosotros</a></li>
                    <li><a href="#herramientas-consulta">Herramientas de Consulta</a></li>
                    <li><a href="#normativas">Normativas</a></li>
                    <li><a href="#tramites">Trámites y Consultas</a></li>
                    <li><a href="#noticias">Noticias</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </nav>
            <!-- FIN MODIFICACIÓN MOBILE -->
        </div>
    </header>

    <div class="container">
        <section id="inicio" class="content-section">
            <h1>Junta Calificadora de Méritos y Disciplina</h1>
            <h2>Nivel Secundario y sus Modalidades</h2>
            <p>Bienvenido a la plataforma oficial de la Junta Calificadora de Méritos y Disciplina de Nivel Secundario de la Provincia de Salta. Aquí encontrarás herramientas esenciales para una correcta inscripción docente y toda la información necesaria para tu carrera.</p>
            <p>Utiliza nuestros buscadores para verificar incumbencias de tu título, localizar colegios por tipo o ubicación, y acceder a la información necesaria para una correcta inscripción o reinscripción; elementos clave para asegurar tu participación en los procesos de la Junta.</p>
       
            <div class="quick-access-buttons">
                <!-- Un solo botón que dirige a la sección de herramientas de consulta -->
                <a href="#herramientas-consulta" class="button" onclick="showSection('herramientas-consulta');">
                    Explorar Todas las Herramientas de Consulta
                </a>
            </div>
        </section>

        <!-- SECCIÓN SOBRE NOSOTROS -->
        <section id="sobre-nosotros" class="content-section">
            <h2>Sobre Nosotros: Junta Calificadora de Méritos y Disciplina</h2>
            <p>La Junta Calificadora de Méritos y Disciplina de Nivel Secundario y sus Modalidades es un organismo permanente y desconcentrado del Ministerio de Educación, Cultura, Ciencia y Tecnología de la Provincia de Salta. Su misión es garantizar la transparencia, equidad y legalidad en la carrera docente, desde el ingreso hasta los ascensos y traslados.</p>
            <ul>
                <li>Estudiar y custodiar los legajos de antecedentes de todo el personal docente, efectuando su calificación general por orden de mérito.</li>
                <li>Formular la nómina de aspirantes para el ingreso, interinatos y suplencias en el nivel secundario y sus modalidades.</li>
                <li>Dictaminar en los pedidos de permutas, traslados y reincorporaciones, evaluando cada caso según la normativa vigente.</li>
                <li>Considerar las peticiones de permanencia en actividad, de acuerdo con las disposiciones de las leyes jubilatorias.</li>
                <li>Pronunciarse sobre las solicitudes de becas presentadas por el personal docente.</li>
                <li>Emitir dictámenes previos en casos de aplicación de sanciones disciplinarias, asegurando el debido proceso y el derecho a defensa.</li>
                <li>Dar amplia publicidad a las listas confeccionadas en base al mérito, relativas a ascensos, traslados, interinatos y suplencias, promoviendo la transparencia en los procesos.</li>
            </ul>
            <p>La Junta está integrada por diez miembros: seis elegidos por voto secreto y obligatorio del personal docente, tres designados por el Ministerio y uno propuesto por la asociación sindical con mayor representación en el nivel educativo correspondiente. Los miembros ejercen sus funciones por un período de cuatro años, con posibilidad de reelección por un período adicional.</p>
            <p>Comprometida con el fortalecimiento del sistema educativo provincial, la Junta actúa con independencia técnica y responsabilidad institucional, promoviendo prácticas justas y meritocráticas en beneficio de la comunidad educativa.</p>
        </section>

        <!-- SECCIÓN PORTAL DE SERVICIOS / HERRAMIENTAS DE CONSULTA -->
        <section id="herramientas-consulta" class="content-section">
            <h2>Herramientas de Consulta</h2>
            <p>Aquí encontrarás todas las herramientas de búsqueda para facilitarte el acceso a la información que necesitas. A continuación, te explicamos brevemente cada una:</p>

            <div class="quick-tutorial">
                <h4>Guía Rápida de Uso de Buscadores:</h4>
                <ul>
                    <li><strong>Buscador de Títulos y Espacios Curriculares:</strong> Ingresa tu título (o parte de él) para ver qué espacios curriculares puedes dictar. Haz clic en cualquier título de la tabla para ver solo sus incumbencias exactas.</li>
                    <li><strong>Buscador de Colegios por Espacio Curricular y Ubicación:</strong> Una vez que hayas buscado un título, selecciona un espacio curricular y un departamento para encontrar colegios que lo dictan (se muestran 7 al azar).</li>
                    <li><strong>Buscador por Orientación:</strong> Encuentra colegios secundarios según su orientación educativa (ej: Ciencias Naturales, Informática).</li>
                    <li><strong>Búsqueda por Localidad/Departamento:</strong> Busca colegios secundarios ingresando una localidad o departamento.</li>
                    <li><strong>Buscador por Categoría:</strong> Filtra colegios por su tipo: Secundario Común, EET o BSPA. Puedes combinar con filtros de departamento y localidad.</li>
                    <li><strong>Buscar Orientaciones por N° de Colegio:</strong> Si conoces el número de una Unidad Educativa, ingresarlo aquí te mostrará las orientaciones que ofrece.</li>
                </ul>
                <p>¡Esperamos que estas herramientas te sean de gran utilidad!</p>
            </div>

            <!-- Buscador para Docentes Ingresantes: Títulos y Espacios Curriculares -->
            <section class="search-group">
                <h3>Buscador de Títulos y Espacios Curriculares <small>(Ideal para docentes ingresantes)</small></h3> <!-- Título modificado -->
                <p>Encuentra qué espacios curriculares puedes dictar con tu título. Las incumbencias responden al manual de competencias vigentes del Ministerio de Educación de Salta. **Puedes hacer clic en cualquier título de la tabla de resultados para filtrar y ver solo sus incumbencias exactas.**</p> <!-- Descripción modificada -->
                <div class="search-section">
                    <label for="tituloInputIntegrado">1. Ingresa tu Título (o parte de él):</label>
                    <input type="text" id="tituloInputIntegrado" placeholder="Ej: Profesor de Historia">
                    <button onclick="buscarIncumbenciasIntegrado()">Buscar Espacios Curriculares</button>

                    <div class="results-container">
                        <h3>Resultados de Incumbencias</h3>
                        <div id="incumbenciasResultsIntegrado">
                            <div class="results-table-container"> <!-- AÑADIDO: Contenedor para scroll horizontal -->
                                <p class="no-results">Aquí se mostrarán los espacios curriculares que puedes dictar.</p>
                                <!-- La tabla se genera aquí dinámicamente por JS -->
                            </div>
                        </div>
                        <!-- NUEVO BOTÓN IMPRIMIR -->
                        <button class="button mt-4" onclick="printTableResults('incumbenciasResultsIntegrado')">Imprimir Incumbencias</button>
                    </div>
                </div>
            </section>

            <!-- Buscador de Colegios por Espacio Curricular y Ubicación (elimnando cartel Para Docentes con Experiencia) -->
            <section class="search-group">
                <h3>Buscador de Colegios por Espacio Curricular y Ubicación</h3>
                <p>Encuentra colegios que dictan un espacio curricular específico en un departamento. Puedes usar un espacio obtenido del buscador anterior o ingresar uno directamente.</p>
                <div class="search-section">
                    <label for="espacioCurricularSelect">2. Selecciona un Espacio Curricular:</label>
                    <select id="espacioCurricularSelect" disabled>
                        <option value="">-- Selecciona un espacio curricular --</option>
                    </select>

                    <label for="departamentoSelect">3. Selecciona un Departamento:</label>
                    <select id="departamentoSelect" disabled>
                        <option value="">-- Selecciona un departamento --</option>
                    </select>
                    <button onclick="buscarColegiosAleatoriosPorEspacio()" id="btnBuscarColegios" disabled>Buscar Colegios (7 al azar)</button>

                    <div class="results-container">
                        <h3>Colegios Encontrados</h3>
                        <div id="colegiosPorEspacioResults">
                             <div class="results-table-container"> <!-- AÑADIDO -->
                                <p class="no-results">Aquí se mostrarán los colegios.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Otras Búsquedas de Colegios -->
            <section class="search-group">
                <h3>Otras Búsquedas de Colegios</h3>
                <p>Herramientas adicionales para encontrar colegios por diferentes criterios.</p>

                <!-- Búsqueda de Colegios por Orientación -->
                <div class="search-section">
                    <h4>Búsqueda por Orientación</h4>
                    <p>Encuentra colegios secundarios según su orientación educativa.</p>
                    <label for="orientacionInput">Buscar por Orientación:</label>
                    <input type="text" id="orientacionInput" placeholder="Ej: Ciencias Naturales, Informática, Humanidades">
                    <button onclick="buscarOrientaciones()">Buscar Orientaciones</button>

                    <div class="results-container">
                        <h3>Resultados de Orientaciones</h3>
                        <div id="orientacionesResults">
                            <div class="results-table-container"> <!-- AÑADIDO -->
                                <p class="no-results">No hay resultados para mostrar.</p>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Búsqueda de Colegios por Localidad/Departamento -->
                <div class="search-section" id="colegios" style="margin-top: 20px;"> <!-- Se añadió id="colegios" para el scroll -->
                    <h4>Búsqueda por Localidad/Departamento</h4>
                    <p>Encuentra colegios secundarios ingresando una localidad o departamento.</p>
                    <label for="localidadInput">Buscar por Localidad o Departamento:</label>
                    <input type="text" id="localidadInput" placeholder="Ej: Salta Capital, San Ramón de la Nueva Orán">
                    <button id="btnBuscarColegiosLocalidad">Buscar Colegios</button>

                    <div class="results-container">
                        <h3>Resultados de Colegios</h3>
                        <div id="colegiosResults">
                             <div class="results-table-container"> <!-- AÑADIDO -->
                                <p class="no-results">No hay resultados para mostrar.</p>
                            </div>
                        </div/>
                    </div>
                </div>
            </section>
                      <!-- NUEVO: Buscador por Categoría de Colegios (con Departamento y Localidad) -->
            <section class="search-group">
                <h3>Buscador por Categoría <small>Encuentra colegios por su tipo (Secundario Común, EET, BSPA).</small></h3>
                <p>Selecciona la categoría de colegio y opcionalmente filtra por departamento y/o localidad:</p>
                <div class="search-section">
                    <label for="categoriaColegioSelect">Categoría de Colegio:</label>
                    <select id="categoriaColegioSelect">
                        <option value="">Seleccione una categoría</option>
                        <option value="comun">Secundario Común</option>
                        <option value="eet">Esc. de Ed. Tec. EET</option>
                        <option value="bspa">BSPAS</option>
                    </select>
                </div>
                <div class="search-section">
                    <label for="categoriaDepartamentoSelect">Departamento:</label>
                    <select id="categoriaDepartamentoSelect">
                        <option value="">-- Todos los Departamentos --</option>
                        <!-- Opciones se cargarán dinámicamente con JS -->
                    </select>
                </div>
                <div class="search-section">
                    <label for="categoriaLocalidadSelect">Localidad:</label>
                    <select id="categoriaLocalidadSelect" disabled>
                        <option value="">-- Todas las Localidades --</option>
                        <!-- Opciones se cargarán dinámicamente con JS según el departamento -->
                    </select>
                </div>
                <div class="search-section">
                    <button class="button" id="btnBuscarColegiosPorCategoria">Buscar por Categoría</button>
                </div>
                <div class="results-container">
                    <h3>Resultados por Categoría</h3>
                    <div id="colegiosPorCategoriaResults">
                        <div class="results-table-container"> <!-- Contenedor para scroll horizontal -->
                            <p class="no-results">Aquí se mostrarán los colegios por categoría, departamento y/o localidad.</p>
                        </div>
                    </div>
                    <!-- Botón Imprimir para esta tabla -->
                    <button class="button" onclick="printTableResults('colegiosPorCategoriaResults')">Imprimir Colegios (Categoría)</button>
                </div>
            </section>
            <!-- FIN NUEVO BUSCADOR POR CATEGORÍA -->

            <!-- NUEVO: Buscador de Orientaciones por Número de Colegio -->
            <section class="search-group">
                <h3>Buscar Orientaciones por N° de Colegio <small>Encuentra las orientaciones ofrecidas por una unidad educativa específica.</small></h3>
                <p>Ingrese el número de la Unidad Educativa para ver sus orientaciones:</p>
                <div class="search-section">
                    <label for="colegioNumeroInput">N° de Unidad Educativa:</label>
                    <input type="text" id="colegioNumeroInput" placeholder="Ej: 5093, 3135">
                </div>
                <div class="search-section">
                    <button class="button" id="btnBuscarOrientacionesPorColegio">Buscar Orientaciones del Colegio</button>
                </div>
                <div class="results-container">
                    <h3>Orientaciones Encontradas</h3>
                    <div id="orientacionesPorColegioResults">
                        <div class="results-table-container"> <!-- Contenedor para scroll horizontal -->
                            <p class="no-results">Aquí se mostrarán las orientaciones del colegio.</p>
                        </div>
                    </div>
                    <!-- Botón Imprimir para esta tabla -->
                    <button class="button" onclick="printTableResults('orientacionesPorColegioResults')">Imprimir Orientaciones del Colegio</button>
                </div>
            </section>
            <!-- FIN NUEVO BUSCADOR DE ORIENTACIONES POR N° DE COLEGIO -->
        </section>

        <!-- SECCIÓN DE NORMATIVAS -->
        <section id="normativas" class="content-section">
            <h2>Normativas y Documentos Oficiales</h2>
            <p>Accede a la legislación vigente y documentos de interés relacionados con la función docente y la Junta Calificadora de Méritos y Disciplina. Es crucial verificar la última versión de cada normativa en fuentes oficiales.</p>
            <ul>
                <li><a href="http://www.bnm.me.gov.ar/giga1/documentos/EL006396.pdf" target="_blank">Ley N° 7546 - Ley Provincial de Educación</a></li>
                <li><a href="https://boletinoficialsalta.gob.ar/Texto_Actualizado.php?c=YXdlcnR5dGFibGE9THw2ODMwJmNhYmU9PGg2PiBQdWJsaWNhZG8gZW4gZWwgQm9sZXTDg8KtbiBPZmljaWFsIE7DgsKwMCwgaWwgZCDDgsKtYSAgZGUgZGUgPC9oNj48QlI+cXdlcnR5" target="_blank">Ley N° 6830/95 - Ley de Educación</a></li>
                <li><a href="https://boletinoficialsalta.gob.ar/instrumento.php?cXdlcnR5dGFibGE9UnwxODUxLzA4cXdlcnR5" target="_blank">Resolución N° 1851/08. RÉGIMEN DE VALORACIÓN DE ANTECEDENTES PARA LA CARRERA DOCENTE</a></li>
                <li><a href="https://www.edusalta.gov.ar/index.php/docentes/normativa-educativa/resoluciones/6568-res-min-n-332-24/file" target="_blank">Resolución N° 332/24.L.C.O. Reconocimiento oficial</a></li>
                <li><a href="https://boletinoficialsalta.gob.ar/instrumento.php?cXdlcnR5dGFibGE9Unw5NzgvMjJxd2VydHk=" target="_blank">Resolución N° 978/22. REGLAMENTO DE ASCENSOS JERÁRQUICOS</a></li>
                <li><a href="https://www.edusalta.gov.ar/index.php/docentes/normativa-educativa/resoluciones/2698-res-min-no-3666-12/file" target="_blank">Resolución N° 3666/12 - Reglamento para Inscripción en Escuelas de Educación Secundaria y Técnico Profesional</a></li>
            </ul>
        </section>

                <!-- NUEVA SECCIÓN: TRÁMITES Y CONSULTAS FRECUENTES -->
        <section id="tramites" class="content-section">
            <h2>Trámites y Consultas Frecuentes</h2>
            <p>Encuentra información útil sobre los trámites más comunes y resuelve tus dudas.</p>

            <!-- NUEVA SECCIÓN DE CONVOCATORIA DE INSCRIPCIÓN -->
            <div class="search-group" style="background-color: #eaf6fd; border-color: #a7d9ff;">
                <h3 style="color: #004085; border-bottom-color: #a7d9ff;">CONVOCATORIA PARA INSCRIPCIÓN Y REINSCRIPCIÓN DE INTERESADOS A CUBRIR INTERINATOS Y SUPLENCIAS - PERÍODO 2026</h3>
                <p style="font-size: 1.1em; font-weight: bold; color: #333;">Salta, 06 de junio de 2025</p>
                <p style="font-size: 1.1em; font-weight: bold; color: #333;">C I R C U L A R Nº 01/2025</p>

                <h4>1.- LLAMADO A INSCRIPCIÓN:</h4>
                <p>Junta Calificadora de Méritos y Disciplina del Nivel Secundario y sus modalidades llama a inscripción de interesados a cubrir interinatos y suplencias – Período 2026 - en los establecimientos dependientes de la Dirección Gral. de Educación Secundaria, Dirección Gral. de Educación Técnico y Formación Profesional, Dirección Gral. de Educación de Jóvenes y Adultos y la Subsecretaría de Políticas Socioeducativas en horas cátedra y cargos.</p>
                <p>No se registrará inscripción en los Cursos de Capacitación Laboral (C.C.L.), Cursos de Capacitación Laboral Técnico (C.C.L.T.), Cursos de Adiestramiento Laboral (C.A.L.), Cursos de Formación Profesional (C.F.P.) y Maestro de Enseñanza Práctica dependientes de la Dirección General de Educación Técnico y Formación Profesional, los que se designan por concurso; tampoco para el Polo de Reingreso, Colegios mediados por TIC; Colegios Virtuales, Domiciliarias y/u Hospitalarias dependientes de la Dirección Gral. de Educación Secundaria.</p>
                <p>Deberán tenerse en cuenta los códigos de los espacios curriculares y/o cargos, los que se adjuntan en Anexo II, para consignarlos correctamente en la ficha de inscripción, a fin de evitar omisiones o errores.</p>
                <p>En virtud de la implementación del sistema integral virtual, este organismo informa la existencia de dos modalidades de inscripción:</p>

                <h5>A – PRESENCIAL</h5>
                <p>Tanto la apertura de legajo como la reinscripción se realizarán en Unidades Educativas, dependiente de cualquiera de las Direcciones del Nivel mencionadas y reconocidas por el Ministerio de Educación. Junta Calificadora no realizará inscripciones individuales y /o personales en la sede del Organismo.</p>

                <h5>B – VIRTUAL</h5>
                <p>Las Inscripciones se realizarán mediante el sistema integral virtual “Gestión de Trayectoria Docente”. Esta modalidad de inscripción y reinscripción cuenta con sus videos instructivos. Este organismo se reserva la facultad de solicitar documentación respaldatoria. </p>
                <p style="text-align: center; margin-top: 15px;">
                    <a href="https://sga.edusalta.gov.ar:5900/gestiontrayectoriadocente" target="_blank" style="color: #007bff; text-decoration: underline; font-weight: bold;">Acceder al Sistema de Gestión de Trayectoria Docente</a>
                </p>

                <h4>2.- CALENDARIO DE ACTIVIDADES:</h4>
                <p><strong>Período de Inscripción:</strong></p>
                <ul style="list-style: none; padding-left: 0;">
                    <li><strong>DESDE:</strong> 09/06/2025</li>
                    <li><strong>HASTA:</strong> 27/06/2025</li>
                </ul>
                <p>Los establecimientos receptores deberán elevar a la Junta Calificadora de Méritos y Disciplina de Nivel Secundario y sus Modalidades, sito en Pasaje Fernando Ramos N° 22, la nómina de aspirantes inscriptos, solicitudes de reinscripción y toda documentación aportada por los aspirantes HASTA EL VIERNES 11 de julio DE 2025 INDEFECTIBLEMENTE.</p>

                <h4 style="margin-top: 30px;">Documentos para Descargar:</h4>
                <ul>
                    <li><a href="https://drive.google.com/file/d/1SLEZ-qWbe2iSumm685_ivbH9gtF5tRBs/view?usp=sharing" target="_blank">DESCARGAR CIRCULAR 01/25 NIVEL SECUNDARIO</a></li>
                    <li><a href="https://drive.google.com/file/d/1f-RekcsUaWLmW9A-AjmXR360lobakrDU/view?usp=sharing" target="_blank">DESCARGAR FORMULARIO C</a></li>
                    <li><a href="https://drive.google.com/file/d/1U_hZPXBgxdJSRZibmVLWYtfgaTS-6rPM/view?usp=sharing" target="_blank">DESCARGAR ANEXO II - CODIGOS DE ESPACIOS CURRICULARES</a></li>
                    <li><a href="https://drive.google.com/file/d/13GMz4VQ8RPCoD53vOTVt1WIz20uy8Qjv/view?usp=sharing" target="_blank">DESCARGAR ANEXO III - LISTADO DE DOCENTES</a></li>
                </ul>
            </div>
            <!-- FIN SECCIÓN DE CONVOCATORIA -->

            <<h3>Incumbencias Docentes</h3>
            <p>Consulta las incumbencias de tu título para conocer los espacios curriculares que puedes dictar. Utiliza nuestro <a href="#" onclick="event.preventDefault(); showSection('herramientas-consulta');" class="link-to-buscador">buscador de títulos y espacios curriculares</a> ubicado en la sección de Herramientas de Consulta.</p>

            <<h3>Procedimientos para Inscripción</h3>
            <p>Leer como paso esencial la Circular 01/25, como guía de una buena inscripción. </p>
            <p style="text-align: center; margin-top: 10px; margin-bottom: 20px;">
                <a href="https://drive.google.com/file/d/1SLEZ-qWbe2iSumm685_ivbH9gtF5tRBs/view" target="_blank" style="color: #007bff; text-decoration: underline; font-weight: bold;">
                    Ver Circular 01/25 (Guía de Inscripción)
                </a>
            </p>

            <h3>Acciones de capacitación con puntaje</h3>
            <p>Aquí puedes consultar las capacitaciones que otorgarán puntaje, en el marco de la Resol 332/24. </p>
            <p style="text-align: center; margin-top: 10px; margin-bottom: 20px;">
                <a href="https://docs.google.com/spreadsheets/d/1kEh7E0H3UXsJAl4Elegd2lNvNrjdLNvE/edit?gid=838291378#gid=838291378" target="_blank" style="color: #007bff; text-decoration: underline; font-weight: bold;">
                    Consultar Capacitaciones con Puntaje
                </a>
            </p>

            <h3>Preguntas Frecuentes (FAQ)</h3>
            <p>Encuentra respuestas a las preguntas más comunes sobre la Junta Calificadora, trámites, documentación y procedimientos. <br>
            [Aquí podrías añadir una lista de preguntas con sus respuestas, o un enlace a una página dedicada a las FAQs.]</p>
        </section>

        <!-- SECCIÓN DE NOTICIAS CON IFRAME -->
                <section id="noticias" class="content-section" style="text-align: center;">
            <h2>Novedades y Noticias del Ministerio</h2>
            <p>Aquí puedes consultar las últimas noticias y comunicados oficiales del Ministerio de Educación, Cultura, Ciencia y Tecnología de Salta, incrustados directamente en nuestra página. Si el contenido no carga o tienes problemas para visualizarlo, puedes hacer clic en el enlace directo a continuación.</p>

            <!-- INICIO: Comunicado Urgente de la Junta Calificadora (ACTUALIZADO) -->
            <div class="urgent-communique">
                <h3>Junta Calificadora de Méritos y Disciplina de Nivel Secundario y sus Modalidades informa:</h3>
                <p><strong>Respecto al funcionamiento de la web Trayectoria Docente:</strong></p>
                <p>El acceso a la página web correspondiente a las **Trayectorias Docentes**, desde donde se realizan gestiones que involucran al proceso de inscripción de cuadros, se encuentra momentáneamente fuera de servicio por cuestiones técnicas. Esta dificultad excede al organismo y sobre ella se está trabajando para su pronta reactivación.</p>
                <p>Por otro lado, los accesos web oficiales del Ministerio de Educación (<a href="https://edusalta.gov.ar" target="_blank">edusalta.gov.ar</a>) y de la JCMD Nivel Secundario (<a href="https://jcmyd-salta-web.vercel.app" target="_blank">jcmyd-salta-web.vercel.app</a>) funcionan con normalidad.</p>
            </div>
            <!-- FIN: Comunicado Urgente de la Junta Calificadora -->

            <div class="news-iframe-container">
                <iframe src="https://sga.edusalta.gov.ar/Frontend/Modulos/Noticias/Noticias.aspx" title="Noticias Ministerio de Educación Salta"></iframe>
            </div>

            <p style="margin-top: 20px;">
                <a href="https://sga.edusalta.gov.ar/Frontend/Modulos/Noticias/Noticias.aspx" target="_blank" style="color: #007bff; text-decoration: underline; font-weight: bold;">
                    Ver noticias directamente en el portal del Ministerio (abre en una nueva pestaña)
                </a>
            </p>
        </section>

        <!-- SECCIÓN DE CONTACTO -->
        <section id="contacto" class="content-section">
            <h2>Contacto</h2>
            <p>Para consultas, puedes contactarnos a través de los siguientes medios:</p>
            <p><strong>Dirección:</strong> Pje Fernando Ramos N° 22. Salta - Capital.</p>
            <p><strong>Teléfonos:</strong> 387 5344660 / 387 5344662</p>
            <p><strong>Correo Electrónico:</strong> <a href="mailto:juntacalificadorasecundario23@gmail.com">juntacalificadorasecundario23@gmail.com</a></p>
            <p><strong>Horario de Atención:</strong> [Días y horarios - Rellenar si aplica]</p>

            <h3>Nuestra Ubicación</h3>
            <div class="map-container">
                <!-- Mapa incrustado de Google Maps para Pje Fernando Ramos N° 22, Salta - Capital -->
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3621.579482598387!2d-65.4093959885822!3d-24.62916857997972!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x941bc3a18a99499d%3A0x7df6b0d9e8c4e43b!2sPje%20Fernando%20Ramos%2022%2C%20A4400%20Salta!5e0!3m2!1ses-419!2sar!4v1700000000000!5m2!1ses-419!2sar" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <p style="text-align: center; margin-top: 15px;">
                <a href="https://www.google.com/maps/place/Pje+Fernando+Ramos+22,+A4400+Salta" target="_blank" style="color: #007bff; text-decoration: underline;">Abrir en Google Maps</a>
            </p>
        </section>

    </div>

   <footer>
        <p>© JCMyD- N.S. 2025 | Derechos Reservados</p>
        <p>Webmaster: susje®</p> 
   </footer>

    <script>
        console.log('Script principal cargado.'); // DEBUG: Mensaje de carga muy temprano

        // URLs de tus Google Sheets publicadas como CSV
        const COMPETENCIAS_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS-EPPyl34acCgd03fTldc-6Bs7GhBXdAmKVoaIHJKT-5SW4c8VzIDGCNqU7E590SxXlHKPvu-U_qwr/pub?gid=1550756964&single=true&output=csv';
        const ORIENTACIONES_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS7Qnph7TWvhLYl3KhpaDVqnYLqgNGbQ7FNtdw7TNzAlskfjVTg4DePvG2MoVuZf9DD3Fc2nZ5CEOms/pub?gid=1943513223&single=true&output=csv';
        const COLEGIOS_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vStnrtyd-dwtpz4UlSU2OXrEgL79AlvRLL3c0mIPSGETpyT2sEVgaGjJOVSpryEC7Jhx4zM6HjKWZN_/pub?gid=119647774&single=true&output=csv';
        const PLAN_ESTUDIO_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRHqqcFr4mP1vwyt14wUjjMCryhv8bzp-A7Dum5jRKqGvQ5_nJYZlo23Q-90L6cPFKFoUXiFTiMKzI7/pub?gid=151813776&single=true&output=csv';

        let competenciasData = [];
        let orientacionesData = [];
        let colegiosData = [];
        let planEstudioData = [];

        // --- FUNCIONALIDAD MENÚ HAMBURGUESA ---
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            const mainNav = document.getElementById('main-nav');
        
            if (mobileMenu && mainNav) {
                mobileMenu.addEventListener('click', function() {
                    mobileMenu.classList.toggle('active');
                    mainNav.classList.toggle('active');
                });
        
                // Cierra el menú móvil al hacer clic en un enlace de navegación
                mainNav.querySelectorAll('ul li a').forEach(link => {
                    link.addEventListener('click', function() {
                        if (mainNav.classList.contains('active')) {
                            mobileMenu.classList.remove('active');
                            mainNav.classList.remove('active');
                }
            });
        });
    }
});
        // --- FUNCIÓN PARA IMPRIMIR RESULTADOS DE TABLAS ---
        function printTableResults(containerId) {
            const container = document.getElementById(containerId);
            if (!container) {
                alert('No se encontraron resultados para imprimir.');
                return;
            }

            const tableHtml = container.querySelector('table'); // Asegura que obtenemos la tabla real
            if (!tableHtml) {
                alert('No hay una tabla para imprimir en este contenedor.');
                return;
            }

            let printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write('<html><head><title>Resultados de Búsqueda</title>');
            // Incluir solo los estilos necesarios para la tabla en la ventana de impresión
            printWindow.document.write(`
                <style>
                    body { font-family: 'Roboto', Arial, sans-serif; margin: 20px; }
                    table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-top: 20px;
                        font-size: 0.9em;
                    }
                    th, td {
                        border: 1px solid #ccc;
                        padding: 8px;
                        text-align: left;
                    }
                    th {
                        background-color: #f2f2f2;
                        font-weight: bold;
                        color: #333;
                    }
                    tr:nth-child(even) {
                        background-color: #f9f9f9;
                    }
                    /* Estilos para el resaltado si la tabla los tiene */
                    strong {
                        font-weight: bold;
                        color: #000;
                    }
                    .highlighted-row {
                        background-color: #e0ffe0 !important;
                        border-left: 5px solid #66bb6a !important;
                    }
                </style>
            `);
            printWindow.document.write('</head><body>');
            printWindow.document.write('<h1>Resultados de la Búsqueda</h1>');
            printWindow.document.write(tableHtml.outerHTML); // Obtener el HTML completo de la tabla
            printWindow.document.write('</body></html>');
            printWindow.document.close();

            printWindow.onload = function() {
                printWindow.print();
                // printWindow.close(); // Se puede cerrar automáticamente después de imprimir
            };
        }

        // Función para cargar y parsear datos CSV
        async function loadData(url, type = 'generic') {
            try {
                console.log(`Cargando datos desde: ${url} (Tipo: ${type})`);
                const response = await fetch(url);
                if (!response.ok) {
                    // Modificación: Agregado un alert más específico para el error 404
                    if (response.status === 404) {
                        alert(`¡Advertencia! Error 404: No se pudo cargar la hoja de ${type} desde la URL. Por favor, verifica que la URL es correcta y que la hoja de Google Sheets está 'Publicada en la web' como CSV.`);
                    }
                    throw new Error(`HTTP error! status: ${response.status} al cargar ${type}`);
                }
                const csvText = await response.text();
                return parseCSV(csvText, type);
            } catch (error) {
                console.error(`Error cargando datos de ${type} desde ${url}:`, error);
                if (type === 'colegios') {
                     alert('¡Advertencia! Error cargando la lista de Colegios. Algunas funciones podrían no operar correctamente. Por favor, revisa la consola para más detalles y asegúrate que la URL de COLEGIOS_URL es correcta y pública.');
                } else if (type === 'planEstudio') { 
                    // El alert específico para 404 ya se maneja arriba, este es un fallback para otros errores
                    alert('¡Advertencia! Error cargando los datos del Plan de Estudio. La búsqueda de colegios por espacio curricular podría no funcionar. Por favor, revisa la consola para más detalles y asegúrate que la URL de PLAN_ESTUDIO_URL es correcta y pública.');
                }
                return [];
            }
        }

        // Función para parsear texto CSV a un array de objetos JavaScript
        function parseCSV(csvString, type) {
            const lines = csvString.split('\n');
            if (lines.length < 2) {
                console.warn(`CSV de ${type} tiene menos de 2 líneas (encabezado + datos). Retornando array vacío.`);
                return [];
            }

            const headers = lines[0].split(',').map(header => header.trim());
            const data = [];

            for (let i = 1; i < lines.length; i++) {
                const currentLine = lines[i].trim();
                if (currentLine === '') {
                    continue;
                }

                // Manejo robusto de comas dentro de valores (CSV estándar)
                const values = [];
                let inQuote = false;
                let currentValue = '';
                for (let k = 0; k < currentLine.length; k++) {
                    const char = currentLine[k];
                    if (char === '"') {
                        inQuote = !inQuote;
                    } else if (char === ',' && !inQuote) {
                        values.push(currentValue.trim());
                        currentValue = '';
                    } else {
                        currentValue += char;
                    }
                }
                values.push(currentValue.trim()); // Add the last value


                const row = {};
                for (let j = 0; j < headers.length; j++) {
                    if (headers[j]) { // Asegura que el encabezado no esté vacío
                        row[headers[j]] = values[j] ? values[j].replace(/^"|"$/g, '').trim() : ''; // Eliminar comillas dobles y limpiar
                    }
                }

                // Lógica específica para la hoja de COLEGIOS_URL (extraer NumeroUE)
                if (type === 'colegios' && row['Nombre']) {
                    const match = row['Nombre'].match(/Nº\s*(\d+)/);
                    if (match && match[1]) {
                        row['NumeroUE'] = match[1];
                    } else {
                        row['NumeroUE'] = '';
                    }
                }
                data.push(row);
            }
            console.log(`Datos de ${type} parseados. Filas: ${data.length}. Ej. primera fila:`, data[0]); // Depuración
            return data;
        }

        // Función para normalizar texto (quitar acentos y convertir a minúsculas)
        function normalizeText(text) {
            if (typeof text !== 'string') return '';
            return text.normalize('NFD').replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        // Función para resaltar la coincidencia en el texto
        function highlightMatch(text, query) {
            if (!text || !query) return text;
            const normalizedText = normalizeText(text);
            const normalizedQuery = normalizeText(query);

            let lastIndex = 0;
            let highlightedHtml = '';
            let match;

            // Usar una expresión regular global y case-insensitive para encontrar todas las coincidencias
            const regex = new RegExp(normalizedQuery.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi'); // Escapar caracteres especiales de la query

            while ((match = regex.exec(normalizedText)) !== null) {
                // Añadir la parte del texto antes de la coincidencia
                highlightedHtml += text.substring(lastIndex, match.index);
                // Añadir la coincidencia resaltada
                highlightedHtml += '<strong>' + text.substring(match.index, regex.lastIndex) + '</strong>';
                lastIndex = regex.lastIndex;
            }
            // Añadir el resto del texto después de la última coincidencia
            highlightedHtml += text.substring(lastIndex);

            return highlightedHtml;
        }


        // Cargar todos los datos al cargar la página
        document.addEventListener('DOMContentLoaded', async () => {
            // Cargar datos en paralelo para mayor velocidad
            const [compData, orientData, coleData, planData] = await Promise.all([
                loadData(COMPETENCIAS_URL, 'competencias'),
                loadData(ORIENTACIONES_URL, 'orientaciones'),
                loadData(COLEGIOS_URL, 'colegios'),
                loadData(PLAN_ESTUDIO_URL, 'planEstudio')
            ]);

            competenciasData = compData;
            orientacionesData = orientData;
            colegiosData = coleData;
            planEstudioData = planData;

            console.log('Datos cargados (final):', {
                competenciasCount: competenciasData.length,
                orientacionesCount: orientacionesData.length,
                colegiosCount: colegiosData.length,
                planEstudioCount: planEstudioData.length
            });

            // Rellenar el selector de departamentos una vez que colegiosData esté cargado
            populateDepartamentosSelect();

            // *** Adjuntar evento de clic al botón de buscar colegios por localidad/dpto. (el de la sección de búsqueda) ***
            console.log('Intentando adjuntar evento de clic al botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda)...');
            const btnBuscarColegiosLocalidad = document.getElementById('btnBuscarColegiosLocalidad');
            if (btnBuscarColegiosLocalidad) {
                console.log('Botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda) encontrado.');
                btnBuscarColegiosLocalidad.addEventListener('click', buscarColegios);
                console.log('Evento de clic adjuntado al botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda) correctamente.');
            } else {
                console.error('ERROR: No se encontró el botón con ID "btnBuscarColegiosLocalidad" en la sección de búsqueda.');
            }
            // AÑADE ESTO AL FINAL DE TU DOMContentLoaded
            const initialSection = window.location.hash ? window.location.hash.substring(1) : 'inicio';
            // showSection(initialSection); eliminada para no repetir
        });

        // Función para renderizar una tabla de resultados
        // exactHighlightColumn: Si se proporciona, la fila solo se resaltará si el searchTerm coincide exactamente con el contenido de esta columna.
        // clickableColumn: Si se proporciona, la celda de esta columna se hará clickeable para filtrar por el valor de esa celda.
        function renderTable(containerId, headers, data, htmlColumns = [], searchTerm = '', exactHighlightColumn = null, clickableColumn = null) {
            const container = document.getElementById(containerId);
            if (!container) return;

            container.innerHTML = '';
            const normalizedSearchTerm = normalizeText(searchTerm);

            if (data.length === 0) {
                container.innerHTML = '<p class="no-results">No se encontraron resultados.</p>';
                return;
            }

            const table = document.createElement('table');
            table.classList.add('results-table');

            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headers.forEach(headerText => {
                const th = document.createElement('th');
                th.textContent = headerText;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);

            const tbody = document.createElement('tbody');
            data.forEach(item => {
                const tr = document.createElement('tr');
                let rowShouldBeHighlighted = false; // Bandera para controlar el resaltado de la fila

                // Lógica para determinar si la fila debe ser resaltada
                if (exactHighlightColumn && item[exactHighlightColumn] !== undefined) {
                    // Si se especificó una columna para el resaltado exacto, verificar solo esa columna
                    const columnContent = normalizeText(String(item[exactHighlightColumn]));
                    if (columnContent === normalizedSearchTerm) {
                        rowShouldBeHighlighted = true;
                    }
                } else if (normalizedSearchTerm) {
                    // Si no se especificó una columna exacta, o la columna exacta no tiene valor,
                    // el comportamiento anterior (resaltar si cualquier celda contiene el término)
                    for (const headerKey of headers) {
                        const cellContent = item[headerKey] !== undefined ? String(item[headerKey]) : '';
                        if (normalizeText(cellContent).includes(normalizedSearchTerm)) {
                            rowShouldBeHighlighted = true;
                            break; // No necesitamos revisar más celdas en esta fila
                        }
                    }
                }

                headers.forEach(headerKey => {
                    const td = document.createElement('td');
                    const cellContent = item[headerKey] !== undefined ? String(item[headerKey]) : '';

                    // Si la columna es una de las que permite HTML (para el resaltado de texto)
                    if (htmlColumns.includes(headerKey)) {
                        // NUEVO: Envuelve el contenido en un span cliqueable si es la columna designada
                        if (clickableColumn === headerKey) {
                            const clickableSpan = document.createElement('span');
                            clickableSpan.classList.add('clickable-title');
                            // Guarda el título original (no resaltado) para usarlo en la función de filtrado
                            clickableSpan.dataset.fullTitle = item[headerKey].replace(/<\/?strong>/g, ''); // Elimina <strong> para guardar el texto puro
                            clickableSpan.innerHTML = cellContent; // Usar innerHTML para el contenido resaltado
                            clickableSpan.onclick = () => filterAndDisplayExactTitle(clickableSpan.dataset.fullTitle);
                            td.appendChild(clickableSpan);
                        } else {
                            td.innerHTML = cellContent;
                        }
                    } else {
                        td.textContent = cellContent;
                    }
                    td.setAttribute('data-col-name', headerKey); // Útil para CSS nth-child si el orden de columnas cambia
                    tr.appendChild(td);
                });

                // Aplicar la clase de resaltado si la bandera está activa
                if (rowShouldBeHighlighted) {
                    tr.classList.add('highlighted-row');
                }

                tbody.appendChild(tr);
            });
            table.appendChild(tbody);

            container.appendChild(table);
        }

        // --- FUNCIONES DE BÚSQUEDA ESPECÍFICAS (Mantenidas para los buscadores independientes) ---

        function buscarOrientaciones() {
            const inputElement = document.getElementById('orientacionInput');
            const rawInput = inputElement.value;
            const normalizedInput = normalizeText(rawInput);
            if (!normalizedInput) {
                renderTable('orientacionesResults', ['UNID EDUCATIVA', 'ORIENTACION', 'AREA GEOGRAFICA- LOCALIDAD-DPTO'], []);
                return;
            }

            const filtered = orientacionesData.filter(item => {
                const orientacion = normalizeText(item['ORIENTACION']); // Normalizar dato de la hoja
                const unidEducativa = normalizeText(item['UNID EDUCATIVA']); // Normalizar dato de la hoja
                const areaGeo = normalizeText(item['AREA GEOGRAFICA- LOCALIDAD-DPTO']); // Normalizar dato de la hoja

                return orientacion.includes(normalizedInput) || unidEducativa.includes(normalizedInput) || areaGeo.includes(normalizedInput);
            });

            // Pasar el input para que renderTable pueda resaltar las filas
            renderTable('orientacionesResults', ['UNID EDUCATIVA', 'ORIENTACION', 'AREA GEOGRAFICA- LOCALIDAD-DPTO'], filtered, [], rawInput);
        }

        function buscarColegios() {
            console.log('Función buscarColegios() ejecutada.'); // DEBUG: Confirmar que la función se llama
            const inputElement = document.getElementById('localidadInput');
            const rawInput = inputElement.value; // Obtener el valor sin normalizar para el resaltado de filas
            const normalizedInput = normalizeText(rawInput); // Normalizar para la búsqueda
            console.log('Buscando colegios por localidad/dpto. Input normalizado:', normalizedInput); // DEBUG: Muestra el valor de búsqueda
            if (!normalizedInput) {
                console.log('Input vacío, renderizando tabla vacía para colegios.'); // DEBUG
                renderTable('colegiosResults', ['Nombre', 'Direccion', 'Localidad', 'Departamento', 'CodPostal'], []);
                return;
            }

            const filtered = colegiosData.filter(item => {
                const localidad = normalizeText(item['Localidad']); // Normalizar dato de la hoja
                const departamento = normalizeText(item['Departamento']); // Normalizar dato de la hoja
                const direccion = normalizeText(item['Direccion']); // Normalizar dato de la hoja
                const nombre = normalizeText(item['Nombre']); // Normalizar dato de la hoja
                const codPostal = normalizeText(item['CodPostal']); // Normalizar dato de la hoja

                const match = localidad.includes(normalizedInput) || departamento.includes(normalizedInput) || direccion.includes(normalizedInput) || nombre.includes(normalizedInput) || codPostal.includes(normalizedInput);
                return match;
            });

            console.log('Resultados filtrados para colegios (cantidad):', filtered.length); // DEBUG: Muestra la cantidad de resultados
            console.log('Resultados filtrados para colegios (datos):', filtered); // DEBUG: Muestra los resultados filtrados
            // Pasar el rawInput para que renderTable pueda resaltar las filas (comportamiento original de 'includes')
            renderTable('colegiosResults', ['Nombre', 'Direccion', 'Localidad', 'Departamento', 'CodPostal'], filtered, [], rawInput);
        }

        // *** NUEVA FUNCIÓN: Para el botón de acceso rápido "Buscar Colegios por Localidad/Dpto." ***
        // *** FUNCIÓN: Para el botón de acceso rápido "Buscar Colegios por Localidad/Dpto." ***
                // *** FUNCIÓN: Para el botón de acceso rápido "Buscar Colegios por Localidad/Dpto." (Actualizada) ***
        function triggerLocalidadSearchAndScroll() {
            console.log('Botón de acceso rápido "Buscar Colegios por Localidad/Dpto." clickeado.');

            // Primero, aseguramos que la sección principal de herramientas sea visible
            showSection('herramientas-consulta');

            // Desplazarse al inicio de la sección de herramientas de consulta para ver el tutorial y los buscadores
            // La sección 'herramientas-consulta' ahora tiene un tutorial al principio
            const herramientasSection = document.getElementById('herramientas-consulta');
            if (herramientasSection) {
                // Se desplaza al top de la sección 'herramientas-consulta'
                herramientasSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                console.log('Desplazándose a la sección de herramientas de consulta.');
            } else {
                console.warn('No se encontró la sección con ID "herramientas-consulta" para desplazarse.');
            }
        }


        // --- FUNCIONES PARA EL BUSCADOR INTEGRADO ---

        let foundEspaciosCurriculares = [];

        function populateDepartamentosSelect() {
            const departamentoSelect = document.getElementById('departamentoSelect');
            departamentoSelect.innerHTML = '<option value="">-- Selecciona un departamento --</option>'; // Limpiar opciones anteriores

            if (!colegiosData || colegiosData.length === 0) {
                console.warn('colegiosData está vacío o no se cargó correctamente. No se pueden poblar los departamentos.');
                departamentoSelect.disabled = true;
                return;
            }

            const uniqueDepartamentos = new Set();
            colegiosData.forEach(item => {
                if (item['Departamento']) {
                    uniqueDepartamentos.add(item['Departamento'].trim());
                }
            });

            if (uniqueDepartamentos.size === 0) {
                 console.warn('No se encontraron departamentos únicos en colegiosData. La columna "Departamento" podría estar vacía o mal nombrada en tu hoja de Colegios.');
                 departamentoSelect.disabled = true;
                 return;
            }

            const sortedDepartamentos = Array.from(uniqueDepartamentos).sort();

            sortedDepartamentos.forEach(departamento => {
                const option = document.createElement('option');
                option.value = departamento;
                option.textContent = departamento;
                departamentoSelect.appendChild(option);
            });

            departamentoSelect.disabled = false; // Habilitar el select de departamentos
            console.log('Departamentos poblados:', sortedDepartamentos);
        }


        function buscarIncumbenciasIntegrado() {
            const inputElement = document.getElementById('tituloInputIntegrado');
            const rawInput = inputElement.value; // Obtener el valor sin normalizar para el resaltado de texto y fila
            const normalizedInput = normalizeText(rawInput); // Normalizar para la búsqueda

            const selectEspacio = document.getElementById('espacioCurricularSelect');
            const selectDepartamento = document.getElementById('departamentoSelect');
            const btnBuscarColegios = document.getElementById('btnBuscarColegios');

            // Limpiar resultados anteriores y resetear selects/botones
            // Ahora renderTable puede recibir null para searchTerm y exactHighlightColumn
            renderTable('incumbenciasResultsIntegrado', ['Titulo', 'Nombre DEL ESPACIO CURRICULAR', 'CODIGO/Modulo', 'Alcance/INCUMBENCIA'], []);
            renderTable('colegiosPorEspacioResults', ['Nombre', 'Direccion', 'Localidad', 'Departamento'], []);

            selectEspacio.innerHTML = '<option value="">-- Selecciona un espacio curricular --</option>';
            selectEspacio.disabled = true;
            btnBuscarColegios.disabled = true;

            foundEspaciosCurriculares = [];

            if (!normalizedInput) {
                document.getElementById('incumbenciasResultsIntegrado').innerHTML = '<p class="no-results">Por favor, ingresa un título para buscar incumbencias.</p>';
                return;
            }

            // Filtramos los datos para mostrar solo las filas que son relevantes para la búsqueda
            // Aquí mantenemos la lógica de 'includes' para que la búsqueda inicial sea flexible
            const filteredData = competenciasData.filter(item => {
                const titulo = normalizeText(item['Titulo'] || '');
                const espacioCurricular = normalizeText(item['Nombre DEL ESPACIO CURRICULAR'] || '');
                const codigoModulo = normalizeText(item['CODIGO/Modulo'] || '');
                const alcanceIncumbencia = normalizeText(item['Alcance/INCUMBENCIA'] || '');

                return titulo.includes(normalizedInput) ||
                       espacioCurricular.includes(normalizedInput) ||
                       codigoModulo.includes(normalizedInput) ||
                       alcanceIncumbencia.includes(normalizedInput);
            });

            // Preparamos los datos para renderizar, aplicando el resaltado de texto en la columna "Titulo"
            const dataToRender = filteredData.map(item => {
                const newItem = { ...item };
                newItem['Titulo'] = highlightMatch(item['Titulo'], rawInput);
                return newItem;
            });

            // Llamada a renderTable:
            // - 'Titulo' para htmlColumns para que se aplique el bold.
            // - rawInput como searchTerm para el resaltado de fila.
            // - 'Titulo' como exactHighlightColumn para que SOLO las filas con coincidencia exacta en 'Titulo' se resalten.
            // - 'Titulo' como clickableColumn para que las celdas de título sean cliqueables.
            renderTable(
                'incumbenciasResultsIntegrado',
                ['Titulo', 'Nombre DEL ESPACIO CURRICULAR', 'CODIGO/Modulo', 'Alcance/INCUMBENCIA'],
                dataToRender,
                ['Titulo'], // Columnas que pueden contener HTML (para el resaltado de texto)
                rawInput,   // Término de búsqueda para el resaltado de la fila (coincidencia exacta en 'Titulo')
                'Titulo',   // Columna para la coincidencia exacta de resaltado de fila
                'Titulo'    // Columna que se hará clickeable
            );


            // Llenar el select con los espacios curriculares encontrados
            if (filteredData.length > 0) { // Usar filteredData, no dataToRender, para los valores del select
                const uniqueEspacios = new Set();
                filteredData.forEach(item => {
                    if (item['Nombre DEL ESPACIO CURRICULAR']) {
                        uniqueEspacios.add(item['Nombre DEL ESPACIO CURRICULAR'].trim());
                    }
                });

                foundEspaciosCurriculares = Array.from(uniqueEspacios);
                foundEspaciosCurriculares.sort();

                selectEspacio.innerHTML = '<option value="">-- Selecciona un espacio curricular --</option>'; // Asegurar que la opción por defecto esté
                foundEspaciosCurriculares.forEach(espacio => {
                    const option = document.createElement('option');
                    option.value = espacio;
                    option.textContent = espacio;
                    selectEspacio.appendChild(option);
                });
                selectEspacio.disabled = false; // Habilitar el select de espacio curricular
            } else {
                 document.getElementById('incumbenciasResultsIntegrado').innerHTML = '<p class="no-results">No se encontraron espacios curriculares para ese título.</p>';
            }
            toggleBuscarColegiosButton(); // Verificar estado del botón después de buscar incumbencias
        }
// --- FUNCIONALIDAD DE NAVEGACIÓN POR SECCIONES ---

        // Función para mostrar una sección específica y ocultar las demás
        // Función para mostrar una sección específica y ocultar las demás
        function showSection(sectionId) {
            // Oculta todas las secciones de contenido
            const allSections = document.querySelectorAll('.content-section');
            allSections.forEach(section => {
                section.style.display = 'none';
            });

            // Muestra la sección deseada
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block'; // O 'flex' si tu sección usa flexbox
                // Ya no hay scroll automático aquí, se manejará de forma específica si es necesario
            }

            // Opcional: Resaltar el enlace activo en la navegación
            const navLinks = document.querySelectorAll('header nav ul li a');
            navLinks.forEach(link => link.classList.remove('active-nav-link')); // Quita la clase activa de todos
            const activeLink = document.querySelector(`header nav ul li a[href="#${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active-nav-link'); // Añade la clase activa al enlace clicado
            }
            // *** NUEVO: Cierra el menú móvil si está abierto al seleccionar una sección ***
            const mainNav = document.getElementById('main-nav');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mainNav && mobileMenu && mainNav.classList.contains('active')) {
                mainNav.classList.remove('active');
                mobileMenu.classList.remove('active');
            }
            // *** FIN NUEVO ***
        }

        // Asigna el evento de clic a cada enlace de navegación
        document.querySelectorAll('header nav ul li a').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault(); // Previene el comportamiento de scroll por defecto del ancla
                const sectionId = this.getAttribute('href').substring(1); // Obtiene el ID de la sección del atributo href
                showSection(sectionId); // Llama a la función para mostrar la sección
            });
        });

        // Asegura que la sección "Inicio" se muestre al cargar la página por primera vez
        // Esto se ejecutará una vez que el DOM esté completamente cargado y los datos listos.
        // Podrías poner esto al final de tu `DOMContentLoaded` para asegurarte de que todo lo demás esté cargado.
        document.addEventListener('DOMContentLoaded', () => {
            // ... (resto de tu código DOMContentLoaded, como la carga de datos) ...

            // Asegurar que la sección de inicio sea la primera en mostrarse
            // Si la URL tiene un hash (ej. #sobre-nosotros), ir a esa sección; de lo contrario, ir a 'inicio'.
            const initialSection = window.location.hash ? window.location.hash.substring(1) : 'inicio';
            showSection(initialSection);

            // ... (resto de tu código DOMContentLoaded) ...
        });

        // Asegúrate de mover la llamada a showSection('inicio'); si la tenías directamente en DOMContentLoaded.
        // El bloque `document.addEventListener('DOMContentLoaded', () => { ... });` ya maneja esto.

// NUEVA FUNCIÓN: Filtra y muestra solo las incumbencias de un título exacto seleccionado
        function filterAndDisplayExactTitle(selectedTitle) {
            console.log('Título seleccionado para filtro exacto:', selectedTitle);

            // Actualizar el input del buscador con el título seleccionado
            const tituloInput = document.getElementById('tituloInputIntegrado');
            if (tituloInput) {
                tituloInput.value = selectedTitle;
            }

            const normalizedSelectedTitle = normalizeText(selectedTitle);

            // Filtrar los datos originales para encontrar solo las entradas de este título exacto
            const exactFilteredData = competenciasData.filter(item => {
                return normalizeText(item['Titulo'] || '') === normalizedSelectedTitle;
            });

            // Preparar los datos para renderizar, aplicando el resaltado de texto (negrita)
            const dataToRender = exactFilteredData.map(item => {
                const newItem = { ...item };
                newItem['Titulo'] = highlightMatch(item['Titulo'], selectedTitle);
                return newItem;
            });

            // Volver a renderizar la tabla con los resultados exactos
            // Para el resaltado de fila, usaremos selectedTitle como searchTerm y 'Titulo' como exactHighlightColumn
            // Para las celdas clickeables, seguimos permitiéndolo en la columna 'Titulo'
            renderTable(
                'incumbenciasResultsIntegrado',
                ['Titulo', 'Nombre DEL ESPACIO CURRICULAR', 'CODIGO/Modulo', 'Alcance/INCUMBENCIA'],
                dataToRender,
                ['Titulo'],
                selectedTitle, // searchTerm para que la fila exacta se resalte
                'Titulo',      // exactHighlightColumn para asegurar el resaltado exacto de fila
                'Titulo'       // clickableColumn para que siga siendo cliqueable
            );

            // Opcional: Re-poblar el select de espacio curricular solo con los espacios de este título exacto
            const selectEspacio = document.getElementById('espacioCurricularSelect');
            selectEspacio.innerHTML = '<option value="">-- Selecciona un espacio curricular --</option>';
            if (dataToRender.length > 0) {
                const uniqueEspaciosExact = new Set();
                dataToRender.forEach(item => {
                    if (item['Nombre DEL ESPACIO CURRICULAR']) {
                        uniqueEspaciosExact.add(item['Nombre DEL ESPACIO CURRICULAR'].trim());
                    }
                });
                Array.from(uniqueEspaciosExact).sort().forEach(espacio => {
                    const option = document.createElement('option');
                    option.value = espacio;
                    option.textContent = espacio;
                    selectEspacio.appendChild(option);
                });
                selectEspacio.disabled = false;
            } else {
                selectEspacio.disabled = true;
            }
            toggleBuscarColegiosButton();

            // *** MODIFICACIÓN AÑADIDA AQUÍ ***
            // Desplazar la vista al contenedor de resultados del buscador de títulos
            const incumbenciasResultsContainer = document.getElementById('incumbenciasResultsIntegrado');
            if (incumbenciasResultsContainer) {
                // Obtenemos el elemento padre del buscador de títulos para asegurar que también se vea el input
                const parentSearchGroup = incumbenciasResultsContainer.closest('.search-group');
                if (parentSearchGroup) {
                    const offset = 80; // Pequeño offset para que el header no tape el título del buscador
                    const elementPosition = parentSearchGroup.getBoundingClientRect().top + window.pageYOffset;
                    window.scrollTo({ top: elementPosition - offset, behavior: 'smooth' });
                    console.log('Desplazándose al buscador de títulos y espacios curriculares.');
                } else {
                    // Si no encuentra el .search-group, al menos sube a los resultados
                    incumbenciasResultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    console.warn('No se encontró el .search-group padre para el scroll, desplazándose solo a los resultados de incumbencias.');
                }
            }
            // *** FIN DE MODIFICACIÓN ***
        }

        function buscarColegiosAleatoriosPorEspacio() {
            const selectedEspacio = document.getElementById('espacioCurricularSelect').value;
            const selectedDepartamento = document.getElementById('departamentoSelect').value;
            renderTable('colegiosPorEspacioResults', ['Nombre', 'Direccion', 'Localidad', 'Departamento'], []);

            if (!selectedEspacio) {
                document.getElementById('colegiosPorEspacioResults').innerHTML = '<p class="no-results">Por favor, selecciona un espacio curricular.</p>';
                return;
            }
            if (!selectedDepartamento) {
                document.getElementById('colegiosPorEspacioResults').innerHTML = '<p class="no-results">Por favor, selecciona un departamento.</p>';
                return;
            }
            if (!colegiosData || colegiosData.length === 0 || !planEstudioData || planEstudioData.length === 0) {
                 document.getElementById('colegiosPorEspacioResults').innerHTML = '<p class="no-results">Los datos de colegios o plan de estudio no se cargaron correctamente. Intenta recargar la página o revisa la consola.</p>';
                console.error('Datos de colegiosData o planEstudioData no disponibles para la búsqueda aleatoria.');
                return;
            }


            // 1. Obtener los UEs (Números de Unidad Educativa) de los colegios que están en el departamento seleccionado
            const uesEnDepartamento = colegiosData.filter(c =>
                c['Departamento'] && normalizeText(c['Departamento']) === normalizeText(selectedDepartamento) && c['NumeroUE']
            ).map(c => String(c['NumeroUE']).trim());

            console.log('UEs en el departamento seleccionado:', uesEnDepartamento); // Depuración

            if (uesEnDepartamento.length === 0) {
                document.getElementById('colegiosPorEspacioResults').innerHTML = `<p class="no-results">No se encontraron colegios con un número de UE válido en el departamento "${selectedDepartamento}".</p>`;
                return;
            }


            // 2. Filtrar el planEstudioData por el espacio curricular seleccionado Y por los UEs del departamento
            const colegiosConEspacioYDepartamento = planEstudioData.filter(item => {
                const espacio = normalizeText(item['ESPACIO CURRICULAR']); // Normalizar dato de la hoja
                const ue = item['UE'] ? String(item['UE']).trim() : '';

                return espacio === normalizeText(selectedEspacio) && uesEnDepartamento.includes(ue); // Normalizar el espacio seleccionado
            });

            console.log('Colegios con espacio y departamento filtrados (planEstudioData):', colegiosConEspacioYDepartamento); // Depuración

            if (colegiosConEspacioYDepartamento.length === 0) {
                document.getElementById('colegiosPorEspacioResults').innerHTML = `<p class="no-results">No se encontraron colegios en "${selectedDepartamento}" que dicten "${selectedEspacio}".</p>`;
                return;
            }

            // 3. Obtener los números de UE únicos de colegios filtrados del plan de estudio
            const numerosUnicosUEFiltrados = new Set();
            colegiosConEspacioYDepartamento.forEach(item => {
                if (item['UE']) {
                    numerosUnicosUEFiltrados.add(item['UE'].trim());
                }
            });

            const uesDisponibles = Array.from(numerosUnicosUEFiltrados);
            console.log('UEs únicos disponibles después de filtrar por espacio y departamento:', uesDisponibles); // Depuración

            // 4. Seleccionar 7 colegios al azar (o menos si no hay 7)
            const uesAleatorios = [];
            let numColegios = Math.min(7, uesDisponibles.length);
            let tempUEs = [...uesDisponibles];

            for (let i = 0; i < numColegios; i++) {
                const randomIndex = Math.floor(Math.random() * tempUEs.length);
                const randomUE = tempUEs[randomIndex];
                uesAleatorios.push(randomUE);
                tempUEs.splice(randomIndex, 1);
            }
            console.log('UEs seleccionados aleatoriamente:', uesAleatorios); // Depuración

            // 5. Buscar los detalles completos de los colegios seleccionados usando el NumeroUE
            const resultadosFinales = [];
            uesAleatorios.forEach(numeroUE => {
                const colegioDetalle = colegiosData.find(c =>
                    String(c['NumeroUE']).trim() === String(numeroUE).trim()
                );
                if (colegioDetalle) {
                    resultadosFinales.push({
                        'Nombre': colegioDetalle['Nombre'],
                        'Direccion': colegioDetalle['Direccion'],
                        'Localidad': colegioDetalle['Localidad'],
                        'Departamento': colegioDetalle['Departamento']
                    });
                } else {
                    resultadosFinales.push({
                        'Nombre': `Nº ${numeroUE} (Nombre no encontrado)`,
                        'Direccion': 'No disponible',
                        'Localidad': 'No disponible',
                        'Departamento': 'No disponible'
                    });
                    console.warn(`Detalles no encontrados en colegiosData para el NumeroUE: ${numeroUE}. Esto podría indicar un problema de consistencia entre las hojas.`);
                }
            });

            // Pasar el selectedEspacio y selectedDepartamento para que renderTable pueda resaltar las filas
            renderTable('colegiosPorEspacioResults', ['Nombre', 'Direccion', 'Localidad', 'Departamento'], resultadosFinales, [], `${selectedEspacio} ${selectedDepartamento}`);
        }

        // Habilitar/deshabilitar el botón de búsqueda de colegios
        document.getElementById('espacioCurricularSelect').addEventListener('change', toggleBuscarColegiosButton);
        document.getElementById('departamentoSelect').addEventListener('change', toggleBuscarColegiosButton);

        function toggleBuscarColegiosButton() {
            const selectEspacio = document.getElementById('espacioCurricularSelect');
            const selectDepartamento = document.getElementById('departamentoSelect');
            const btnBuscarColegios = document.getElementById('btnBuscarColegios');

            if (selectEspacio.value && selectDepartamento.value) {
                btnBuscarColegios.disabled = false;
            } else {
                btnBuscarColegios.disabled = true;
            }
        }
                <!-- NUEVAS FUNCIONES DE BUSCADORES -->

        // *** FUNCIÓN: Poblar el selector de Departamentos para el buscador por Categoría ***
        function populateCategoriaDepartamentosSelect() {
            const departamentoSelect = document.getElementById('categoriaDepartamentoSelect');
            departamentoSelect.innerHTML = '<option value="">-- Todos los Departamentos --</option>'; // Limpiar opciones anteriores

            if (!colegiosData || colegiosData.length === 0) {
                console.warn('colegiosData está vacío o no se cargó correctamente. No se pueden poblar los departamentos para el buscador de categoría.');
                departamentoSelect.disabled = true;
                return;
            }

            const uniqueDepartamentos = new Set();
            colegiosData.forEach(item => {
                if (item['Departamento']) {
                    uniqueDepartamentos.add(item['Departamento'].trim());
                }
            });

            if (uniqueDepartamentos.size === 0) {
                console.warn('No se encontraron departamentos únicos en colegiosData para el buscador de categoría. La columna "Departamento" podría estar vacía o mal nombrada en tu hoja de Colegios.');
                departamentoSelect.disabled = true;
                return;
            }

            const sortedDepartamentos = Array.from(uniqueDepartamentos).sort();

            sortedDepartamentos.forEach(departamento => {
                const option = document.createElement('option');
                option.value = departamento;
                option.textContent = departamento;
                departamentoSelect.appendChild(option);
            });

            departamentoSelect.disabled = false; // Habilitar el select de departamentos
            console.log('Departamentos poblados para buscador de categoría:', sortedDepartamentos);
        }

        // *** FUNCIÓN: Poblar el selector de Localidades para el buscador por Categoría (depende del Departamento) ***
        function populateCategoriaLocalidadesSelect() {
            const departamentoSelect = document.getElementById('categoriaDepartamentoSelect');
            const localidadSelect = document.getElementById('categoriaLocalidadSelect');
            const selectedDepartamento = departamentoSelect.value;

            localidadSelect.innerHTML = '<option value="">-- Todas las Localidades --</option>'; // Limpiar opciones anteriores
            localidadSelect.disabled = true; // Deshabilitar por defecto

            if (!selectedDepartamento) {
                return; // No hay departamento seleccionado, no hay localidades para mostrar
            }

            if (!colegiosData || colegiosData.length === 0) {
                console.warn('colegiosData está vacío o no se cargó correctamente. No se pueden poblar las localidades para el buscador de categoría.');
                return;
            }

            const uniqueLocalidades = new Set();
            colegiosData.filter(colegio =>
                colegio.Departamento && normalizeText(colegio.Departamento) === normalizeText(selectedDepartamento)
            ).forEach(colegio => {
                if (colegio.Localidad) {
                    uniqueLocalidades.add(colegio.Localidad.trim());
                }
            });

            if (uniqueLocalidades.size === 0) {
                console.warn(`No se encontraron localidades únicas para el departamento "${selectedDepartamento}" en colegiosData.`);
                return;
            }

            const sortedLocalidades = Array.from(uniqueLocalidades).sort();

            sortedLocalidades.forEach(localidad => {
                const option = document.createElement('option');
                option.value = localidad;
                option.textContent = localidad;
                localidadSelect.appendChild(option);
            });

            localidadSelect.disabled = false; // Habilitar el select de localidades
            console.log(`Localidades pobladas para ${selectedDepartamento}:`, sortedLocalidades);
        }

        // *** FUNCIÓN: Buscar Colegios por Categoría (ACTUALIZADA con Departamento y Localidad) ***
        function buscarColegiosPorCategoria() {
            const categoriaSelect = document.getElementById('categoriaColegioSelect');
            const selectedCategory = categoriaSelect.value;

            const departamentoSelect = document.getElementById('categoriaDepartamentoSelect');
            const selectedDepartamento = departamentoSelect.value;

            const localidadSelect = document.getElementById('categoriaLocalidadSelect');
            const selectedLocalidad = localidadSelect.value;

            const resultsContainer = document.getElementById('colegiosPorCategoriaResults');

            resultsContainer.innerHTML = '<div class="results-table-container"><p class="no-results">Aquí se mostrarán los colegios por categoría, departamento y/o localidad.</p></div>';

            if (!selectedCategory) {
                resultsContainer.querySelector('.no-results').textContent = 'Por favor, selecciona una categoría de colegio.';
                return;
            }

            if (!colegiosData || colegiosData.length === 0) {
                resultsContainer.querySelector('.no-results').textContent = 'Datos de colegios no cargados correctamente. Intenta recargar la página.';
                console.error('Datos de colegiosData no disponibles para la búsqueda por categoría.');
                return;
            }

            let filteredColegios = [];

            // Filtrar primero por la categoría seleccionada
            switch (selectedCategory) {
                case 'comun': // Secundario Común (Nº 5xxx)
                    filteredColegios = colegiosData.filter(colegio =>
                        colegio.Nombre && (colegio.Nombre.startsWith('Nº 5') || colegio.Nombre.startsWith('N° 5'))
                    );
                    break;
                case 'eet': // EET (Nº 3xxx)
                    filteredColegios = colegiosData.filter(colegio =>
                        colegio.Nombre && (colegio.Nombre.startsWith('Nº 3') || colegio.Nombre.startsWith('N° 3'))
                    );
                    break;
                case 'bspa': // BSPA (Nº 7xxx)
                    filteredColegios = colegiosData.filter(colegio =>
                        colegio.Nombre && (colegio.Nombre.startsWith('Nº 7') || colegio.Nombre.startsWith('N° 7'))
                    );
                    break;
                default:
                    resultsContainer.querySelector('.no-results').textContent = 'Categoría no reconocida.';
                    return;
            }

            // Aplicar filtro por departamento si se seleccionó uno
            if (selectedDepartamento) {
                filteredColegios = filteredColegios.filter(colegio =>
                    colegio.Departamento && normalizeText(colegio.Departamento) === normalizeText(selectedDepartamento)
                );
            }

            // Aplicar filtro por localidad si se seleccionó una
            if (selectedLocalidad) {
                filteredColegios = filteredColegios.filter(colegio =>
                    colegio.Localidad && normalizeText(colegio.Localidad) === normalizeText(selectedLocalidad)
                );
            }
            
            if (filteredColegios.length > 0) {
                // El searchTerm para resaltar filas será la combinación de los filtros aplicados
                const searchTerm = `${selectedCategory} ${selectedDepartamento} ${selectedLocalidad}`.trim();
                renderTable(
                    'colegiosPorCategoriaResults',
                    ['Nombre', 'Direccion', 'Localidad', 'Departamento'],
                    filteredColegios,
                    [], // No hay columnas HTML por defecto para resaltar texto dentro de la celda
                    searchTerm // Término de búsqueda para resaltar la fila
                );
                // Desplazar al contenedor de resultados de esta búsqueda
                const offset = 120; // Ajuste para que el header no tape el título del buscador
                const elementPosition = resultsContainer.getBoundingClientRect().top + window.pageYOffset;
                window.scrollTo({ top: elementPosition - offset, behavior: 'smooth' });
            } else {
                resultsContainer.querySelector('.no-results').textContent = 'No se encontraron colegios con los filtros seleccionados.';
            }
        }

        // *** FUNCIÓN: Buscar Orientaciones por Número de Colegio ***
        function buscarOrientacionesPorColegio() {
            const colegioNumeroInput = document.getElementById('colegioNumeroInput');
            const numeroColegio = normalizeText(colegioNumeroInput.value.trim()); // Normalizar y limpiar input
            const resultsContainer = document.getElementById('orientacionesPorColegioResults');

            resultsContainer.innerHTML = '<div class="results-table-container"><p class="no-results">Aquí se mostrarán las orientaciones del colegio.</p></div>';

            if (!numeroColegio) {
                resultsContainer.querySelector('.no-results').textContent = 'Por favor, ingrese un número de Unidad Educativa.';
                return;
            }

            if (!orientacionesData || orientacionesData.length === 0) {
                resultsContainer.querySelector('.no-results').textContent = 'Datos de orientaciones no cargados correctamente. Intenta recargar la página.';
                console.error('Datos de orientacionesData no disponibles para la búsqueda por número de colegio.');
                return;
            }

            const filteredOrientaciones = orientacionesData.filter(item =>
                // Asumimos que 'UNID EDUCATIVA' en orientacionesData contiene el número de colegio
                normalizeText(item['UNID EDUCATIVA'] || '') === numeroColegio
            );

            if (filteredOrientaciones.length > 0) {
                const dataToDisplay = filteredOrientaciones.map(item => ({
                    'UNID EDUCATIVA': item['UNID EDUCATIVA'],
                    'ORIENTACION': item['ORIENTACION']
                }));
                // Usamos 'UNID EDUCATIVA' como la columna de resaltado exacto
                renderTable(
                    'orientacionesPorColegioResults',
                    ['UNID EDUCATIVA', 'ORIENTACION'], // Columnas a mostrar
                    dataToDisplay,
                    [], // No hay columnas HTML para resaltar texto dentro de la celda
                    numeroColegio, // Término de búsqueda para resaltar la fila
                    'UNID EDUCATIVA' // Columna para la coincidencia exacta de resaltado de fila
                );
                // Desplazar al contenedor de resultados de esta búsqueda
                const offset = 120;
                const elementPosition = resultsContainer.getBoundingClientRect().top + window.pageYOffset;
                window.scrollTo({ top: elementPosition - offset, behavior: 'smooth' });
            } else {
                resultsContainer.querySelector('.no-results').textContent = `No se encontraron orientaciones para el N° de Colegio "${numeroColegio}".`;
            }
        }

        // --- FUNCIONALIDAD DE NAVEGACIÓN POR SECCIONES (AJUSTADA PARA EL MENÚ MÓVIL) ---

        // Función para mostrar una sección específica y ocultar las demás
        function showSection(sectionId) {
            // Oculta todas las secciones de contenido
            const allSections = document.querySelectorAll('.content-section');
            allSections.forEach(section => {
                section.style.display = 'none';
            });

            // Muestra la sección deseada
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block'; // O 'flex' si tu sección usa flexbox
                window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll al inicio de la sección
            }

            // Opcional: Resaltar el enlace activo en la navegación
            const navLinks = document.querySelectorAll('header nav ul li a');
            navLinks.forEach(link => link.classList.remove('active-nav-link')); // Quita la clase activa de todos
            const activeLink = document.querySelector(`header nav ul li a[href="#${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active-nav-link'); // Añade la clase activa al enlace clicado
            }
            // Cierra el menú móvil si está abierto al seleccionar una sección
            const mainNav = document.getElementById('main-nav');
            const mobileMenu = document.getElementById('mobile-menu'); // Asegúrate de que este ID exista en tu HTML para el botón hamburguesa
            if (mainNav && mobileMenu && mainNav.classList.contains('active')) {
                mainNav.classList.remove('active');
                mobileMenu.classList.remove('active');
            }
        }

        // Asigna el evento de clic a cada enlace de navegación (manteniendo el preventDefault)
        document.querySelectorAll('header nav ul li a').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault(); // Previene el comportamiento de scroll por defecto del ancla
                const sectionId = this.getAttribute('href').substring(1); // Obtiene el ID de la sección del atributo href
                showSection(sectionId); // Llama a la función para mostrar la sección
            });
        });

        // Configurar el comportamiento inicial al cargar la página
        // Si la URL tiene un hash (ej. #sobre-nosotros), ir a esa sección; de lo contrario, ir a 'inicio'.
        const initialSection = window.location.hash ? window.location.hash.substring(1) : 'inicio';
        showSection(initialSection);

        // Habilitar/deshabilitar el botón de búsqueda de colegios por espacio y departamento (existente)
        document.getElementById('espacioCurricularSelect').addEventListener('change', toggleBuscarColegiosButton);
        document.getElementById('departamentoSelect').addEventListener('change', toggleBuscarColegiosButton);

        function toggleBuscarColegiosButton() {
            const selectEspacio = document.getElementById('espacioCurricularSelect');
            const selectDepartamento = document.getElementById('departamentoSelect');
            const btnBuscarColegios = document.getElementById('btnBuscarColegios');

            if (selectEspacio.value && selectDepartamento.value) {
                btnBuscarColegios.disabled = false;
            } else {
                btnBuscarColegios.disabled = true;
            }
        }

        // *** NUEVA FUNCIÓN renderTable (Soporta resaltado de fila y clickeable en columna específica) ***
        // exactHighlightColumn: Si se proporciona, la fila solo se resaltará si el searchTerm coincide exactamente con el contenido de esta columna.
        // clickableColumn: Si se proporciona, la celda de esta columna se hará clickeable para filtrar por el valor de esa celda.
        function renderTable(containerId, headers, data, htmlColumns = [], searchTerm = '', exactHighlightColumn = null, clickableColumn = null) {
            const container = document.getElementById(containerId);
            if (!container) return;

            container.innerHTML = '';
            const normalizedSearchTerm = normalizeText(searchTerm);

            if (data.length === 0) {
                container.innerHTML = '<p class="no-results">No se encontraron resultados.</p>';
                return;
            }

            const table = document.createElement('table');
            table.classList.add('results-table');

            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headers.forEach(headerText => {
                const th = document.createElement('th');
                th.textContent = headerText;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);

            const tbody = document.createElement('tbody');
            data.forEach(item => {
                const tr = document.createElement('tr');
                let rowShouldBeHighlighted = false; // Bandera para controlar el resaltado de la fila

                // Lógica para determinar si la fila debe ser resaltada
                if (exactHighlightColumn && item[exactHighlightColumn] !== undefined) {
                    // Si se especificó una columna para el resaltado exacto, verificar solo esa columna
                    const columnContent = normalizeText(String(item[exactHighlightColumn]));
                    if (columnContent === normalizedSearchTerm) {
                        rowShouldBeHighlighted = true;
                    }
                } else if (normalizedSearchTerm) {
                    // Si no se especificó una columna exacta, o la columna exacta no tiene valor,
                    // el comportamiento anterior (resaltar si cualquier celda contiene el término)
                    for (const headerKey of headers) {
                        const cellContent = item[headerKey] !== undefined ? String(item[headerKey]) : '';
                        if (normalizeText(cellContent).includes(normalizedSearchTerm)) {
                            rowShouldBeHighlighted = true;
                            break; // No necesitamos revisar más celdas en esta fila
                        }
                    }
                }

                headers.forEach(headerKey => {
                    const td = document.createElement('td');
                    const cellContent = item[headerKey] !== undefined ? String(item[headerKey]) : '';

                    // Si la columna es una de las que permite HTML (para el resaltado de texto)
                    if (htmlColumns.includes(headerKey)) {
                        // NUEVO: Envuelve el contenido en un span cliqueable si es la columna designada
                        if (clickableColumn === headerKey) {
                            const clickableSpan = document.createElement('span');
                            clickableSpan.classList.add('clickable-title');
                            // Guarda el título original (no resaltado) para usarlo en la función de filtrado
                            clickableSpan.dataset.fullTitle = item[headerKey].replace(/<\/?strong>/g, ''); // Elimina <strong> para guardar el texto puro
                            clickableSpan.innerHTML = cellContent; // Usar innerHTML para el contenido resaltado
                            clickableSpan.onclick = () => filterAndDisplayExactTitle(clickableSpan.dataset.fullTitle);
                            td.appendChild(clickableSpan);
                        } else {
                            td.innerHTML = cellContent;
                        }
                    } else {
                        td.textContent = cellContent;
                    }
                    td.setAttribute('data-col-name', headerKey); // Útil para CSS nth-child si el orden de columnas cambia
                    tr.appendChild(td);
                });

                // Aplicar la clase de resaltado si la bandera está activa
                if (rowShouldBeHighlighted) {
                    tr.classList.add('highlighted-row');
                }

                tbody.appendChild(tr);
            });
            table.appendChild(tbody);

            container.appendChild(table);
        }

        // --- REAJUSTES EN DOMContentLoaded para los nuevos buscadores ---

        document.addEventListener('DOMContentLoaded', async () => {
            // ... (mantén tus cargas de datos existentes aquí)
            const [compData, orientData, coleData, planData] = await Promise.all([
                loadData(COMPETENCIAS_URL, 'competencias'),
                loadData(ORIENTACIONES_URL, 'orientaciones'),
                loadData(COLEGIOS_URL, 'colegios'),
                loadData(PLAN_ESTUDIO_URL, 'planEstudio')
            ]);
            
            competenciasData = compData;
            orientacionesData = orientData;
            colegiosData = coleData;
            planEstudioData = planData;
            
            console.log('Datos cargados (final):', {
                competenciasCount: competenciasData.length,
                orientacionesCount: orientacionesData.length,
                colegiosCount: colegiosData.length,
                planEstudioCount: planEstudioData.length
            });

            // Poblar los selectores de departamento al cargar los datos
            populateDepartamentosSelect(); // Para el buscador existente de espacio curricular y departamento
            populateCategoriaDepartamentosSelect(); // Para el NUEVO buscador por categoría

            // Conectar el botón de búsqueda por categoría
            const btnBuscarColegiosPorCategoria = document.getElementById('btnBuscarColegiosPorCategoria');
            if (btnBuscarColegiosPorCategoria) {
                btnBuscarColegiosPorCategoria.addEventListener('click', buscarColegiosPorCategoria);
                console.log('Evento de clic adjuntado al botón "Buscar por Categoría" correctamente.');
            } else {
                console.warn('No se encontró el botón con ID "btnBuscarColegiosPorCategoria".');
            }

            // Conectar la lógica de poblaciones para el nuevo buscador por categoría
            const categoriaDepartamentoSelect = document.getElementById('categoriaDepartamentoSelect');
            const categoriaLocalidadSelect = document.getElementById('categoriaLocalidadSelect');

            if (categoriaDepartamentoSelect) {
                // Populate al cargar la página (ya se llama arriba)
                categoriaDepartamentoSelect.addEventListener('change', populateCategoriaLocalidadesSelect);
                categoriaDepartamentoSelect.addEventListener('change', () => {
                    // Limpiar resultados al cambiar departamento, si es necesario
                    const resultsContainer = document.getElementById('colegiosPorCategoriaResults');
                    resultsContainer.innerHTML = '<div class="results-table-container"><p class="no-results">Selecciona una categoría, departamento y/o localidad y haz clic en buscar.</p></div>';
                });
            }
            if (categoriaLocalidadSelect) {
                // Listener adicional para limpiar resultados si cambia la localidad
                categoriaLocalidadSelect.addEventListener('change', () => {
                    const resultsContainer = document.getElementById('colegiosPorCategoriaResults');
                    resultsContainer.innerHTML = '<div class="results-table-container"><p class="no-results">Selecciona una categoría, departamento y/o localidad y haz clic en buscar.</p></div>';
                });
            }

            // Conectar el botón de búsqueda de orientaciones por número de colegio
            const btnBuscarOrientacionesPorColegio = document.getElementById('btnBuscarOrientacionesPorColegio');
            if (btnBuscarOrientacionesPorColegio) {
                btnBuscarOrientacionesPorColegio.addEventListener('click', buscarOrientacionesPorColegio);
                console.log('Evento de clic adjuntado al botón "Buscar Orientaciones del Colegio" correctamente.');
            } else {
                console.warn('No se encontró el botón con ID "btnBuscarOrientacionesPorColegio".');
            }

            // (Mantén aquí el resto de tus conexiones de eventos DOMContentLoaded, como btnBuscarColegiosLocalidad, etc.)
            // *** Adjuntar evento de clic al botón de buscar colegios por localidad/dpto. (el de la sección de búsqueda) ***
            console.log('Intentando adjuntar evento de clic al botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda)...');
            const btnBuscarColegiosLocalidad = document.getElementById('btnBuscarColegiosLocalidad');
            if (btnBuscarColegiosLocalidad) {
                console.log('Botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda) encontrado.');
                btnBuscarColegiosLocalidad.addEventListener('click', buscarColegios);
                console.log('Evento de clic adjuntado al botón "Buscar Colegios por Localidad/Dpto." (sección de búsqueda) correctamente.');
            } else {
                console.error('ERROR: No se encontró el botón con ID "btnBuscarColegiosLocalidad" en la sección de búsqueda.');
            }

            // Adjuntar evento de clic al botón de buscar orientaciones (el de la sección de búsqueda)
            console.log('Intentando adjuntar evento de clic al botón "Buscar Orientación" (sección de búsqueda)...');
            const btnBuscarOrientaciones = document.getElementById('btnBuscarOrientaciones');
            if (btnBuscarOrientaciones) {
                console.log('Botón "Buscar Orientación" (sección de búsqueda) encontrado.');
                btnBuscarOrientaciones.addEventListener('click', buscarOrientaciones);
                console.log('Evento de clic adjuntado al botón "Buscar Orientación" (sección de búsqueda) correctamente.');
            } else {
                console.error('ERROR: No se encontró el botón con ID "btnBuscarOrientaciones" en la sección de búsqueda.');
            }

            // Adjuntar evento de clic al botón de buscar incumbencias integrado
            console.log('Intentando adjuntar evento de clic al botón "Buscar Título/Espacio"...');
            const btnBuscarIncumbenciasIntegrado = document.getElementById('btnBuscarIncumbenciasIntegrado');
            if (btnBuscarIncumbenciasIntegrado) {
                console.log('Botón "Buscar Título/Espacio" encontrado.');
                btnBuscarIncumbenciasIntegrado.addEventListener('click', buscarIncumbenciasIntegrado);
                console.log('Evento de clic adjuntado al botón "Buscar Título/Espacio" correctamente.');
            } else {
                console.error('ERROR: No se encontró el botón con ID "btnBuscarIncumbenciasIntegrado".');
            }

            // Adjuntar evento de clic al botón de buscar colegios por espacio (del buscador integrado)
            console.log('Intentando adjuntar evento de clic al botón "Buscar Colegios por Espacio"...');
            const btnBuscarColegiosPorEspacio = document.getElementById('btnBuscarColegios');
            if (btnBuscarColegiosPorEspacio) {
                console.log('Botón "Buscar Colegios por Espacio" encontrado.');
                btnBuscarColegiosPorEspacio.addEventListener('click', buscarColegiosAleatoriosPorEspacio);
                console.log('Evento de clic adjuntado al botón "Buscar Colegios por Espacio" correctamente.');
            } else {
                console.error('ERROR: No se encontró el botón con ID "btnBuscarColegios".');
            }

            // Asegurar que la sección de inicio sea la primera en mostrarse
            // Si la URL tiene un hash (ej. #sobre-nosotros), ir a esa sección; de lo contrario, ir a 'inicio'.
            const initialSection = window.location.hash ? window.location.hash.substring(1) : 'inicio';
            showSection(initialSection);
        });
    </script>
</body>
</html>
